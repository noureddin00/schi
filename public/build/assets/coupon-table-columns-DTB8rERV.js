import{j as i,q as s,cd as d,s as r,c7 as m,ce as u,cf as p}from"./vendor-BBDGfIfP.js";import{B as t}from"./badge-CuP0AKCr.js";import{B as l}from"./button-BxbUMaK9.js";import g from"./coupon-form-99N5y19P.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./input-error-DzlB5Qkt.js";import"./loading-button-BLSSbYXc.js";import"./dialog-Ao4xhLhR.js";import"./input-Dldj9DiJ.js";import"./label-DUVUvbLf.js";import"./select-CMFY0w3t.js";import"./switch-DRIloLVZ.js";import"./inertia-SZXqLvQm.js";const H=({courses:o})=>{const n=e=>e.is_active?e.valid_to&&u(r(e.valid_to))?{label:"Expired",variant:"destructive"}:e.valid_from&&p(r(e.valid_from))?{label:"Scheduled",variant:"secondary"}:e.usage_limit&&e.used_count>=e.usage_limit?{label:"Used Up",variant:"destructive"}:{label:"Active",variant:"default"}:{label:"Inactive",variant:"secondary"},c=e=>{navigator.clipboard.writeText(e),alert("Coupon code copied to clipboard!")};return[{accessorKey:"code",header:()=>i.jsx("p",{className:"pl-4",children:"Coupon Code"}),cell:({row:e})=>i.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[i.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 font-bold",children:e.original.code}),i.jsx(l,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(e.original.code),children:i.jsx(d,{className:"h-3 w-3"})})]})},{accessorKey:"discount",header:"Discount",cell:({row:e})=>i.jsx(t,{variant:"outline",children:e.original.discount_type==="percentage"?`${e.original.discount}% OFF`:`$${e.original.discount} OFF`})},{accessorKey:"course",header:"Course",cell:({row:e})=>e.original.course?i.jsx("span",{className:"font-medium",children:e.original.course.title}):i.jsx("span",{className:"text-primary font-medium",children:"Global Coupon"})},{accessorKey:"usage",header:"Usage",cell:({row:e})=>e.original.usage_type==="limited"?i.jsxs("span",{children:[e.original.used_count," / ",e.original.usage_limit]}):i.jsx("span",{children:"Unlimited"})},{accessorKey:"valid_from",header:"Valid From",cell:({row:e})=>e.original.valid_from?s(r(e.original.valid_from),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"valid_to",header:"Valid To",cell:({row:e})=>e.original.valid_to?s(r(e.original.valid_to),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const a=n(e.original);return i.jsx(t,{variant:a.variant,children:a.label})}},{id:"actions",header:()=>i.jsx("p",{className:"pr-4 text-end",children:"Actions"}),cell:({row:e})=>{const a=e.original;return i.jsx("div",{className:"flex items-center justify-end py-2 pr-4",children:i.jsx(g,{title:"Edit Coupon",coupon:a,courses:o,handler:i.jsx(l,{size:"icon",variant:"secondary",className:"h-8 w-8",children:i.jsx(m,{})})})})}}]};export{H as default};

import{b as A,r as g,j as e}from"./vendor-BBDGfIfP.js";import{C as _}from"./combobox-D7KHlSTK.js";import{D as L}from"./datetime-picker-D77t9GA8.js";import{I as n}from"./input-error-DzlB5Qkt.js";import{L as H}from"./loading-button-BLSSbYXc.js";import{A as v,a as y,c as f}from"./accordion-DAQp0Avn.js";import{C as P}from"./card-XBn4TxoT.js";import{C as R}from"./checkbox-DFVJwr6m.js";import{I as o}from"./input-Dldj9DiJ.js";import{L as t}from"./label-DUVUvbLf.js";import{R as b,a as C}from"./radio-group-CBkhOvCv.js";import{S as z,a as w,b as B,c as G,d as $}from"./select-CMFY0w3t.js";import{T as q}from"./textarea-ovCXlSTO.js";import{u as J}from"./use-auth-CGMsRAdC.js";import{D as K}from"./layout-xO0ep3zv.js";import{o as N}from"./inertia-SZXqLvQm.js";import{k as O}from"./richtor-QjVY_KZS.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./popover-CmHxiVMc.js";import"./use-lang-B9LAL-fo.js";import"./sidebar-BIOzr87F.js";import"./separator-CHdmUWH0.js";import"./sheet-wkcDRUUF.js";import"./tooltip-CsicHBaL.js";import"./main-BfH_Euhm.js";import"./index-G4n3qM_p.js";import"./appearance-C4muXxjI.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./app-CijRY98K.js";import"./language-plqgqSJb.js";import"./notification-DhXMcL3J.js";import"./scroll-area-Dmjd_gyP.js";import"./app-logo-opM5JP4B.js";import"./route-B4ZMN77y.js";import"./avatar-lYJ9pRpJ.js";const Q=d=>{var h;const{user:l}=J(),{categories:p,instructors:x,system:c,translate:S}=d,{input:u}=S,{data:r,setData:a,post:k,errors:i,processing:D}=A({title:"",short_description:"",description:"",status:"draft",level:"",pricing_type:"paid",price:"",discount:!1,discount_price:"",duration_hours:1,duration_minutes:0,pass_mark:50,max_attempts:3,total_marks:100,expiry_type:"lifetime",expiry_duration:new Date,thumbnail:null,instructor_id:l.role==="admin"&&c.sub_type==="collaborative"?"":l.instructor_id,exam_category_id:""}),I=s=>{s.preventDefault(),k(route("exams.store"))},E=g.useMemo(()=>p.map(s=>({label:s.title,value:s.id.toString()})),[p]),F=g.useMemo(()=>x.map(s=>({label:s.user.name,value:s.id.toString()})),[x]),T=["beginner","intermediate","advanced"],M=["paid","free"],V=["lifetime","limited_time"];return e.jsx(P,{className:"container p-6",children:e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Exam Title *"}),e.jsx(o,{name:"title",value:r.title,onChange:s=>N(s,a),placeholder:"Enter exam title"}),e.jsx(n,{message:i.title})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Short Description"}),e.jsx(q,{rows:5,name:"short_description",value:r.short_description,onChange:s=>N(s,a),placeholder:"Brief description for exam cards"}),e.jsx(n,{message:i.short_description})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Description"}),e.jsx(O,{ssr:!0,output:"html",placeholder:{paragraph:"Enter detailed exam description...",imageCaption:"Enter detailed exam description..."},contentMinHeight:256,contentMaxHeight:640,initialContent:r.description,onContentChange:s=>a(m=>({...m,description:s}))}),e.jsx(n,{message:i.description})]})]}),e.jsxs("div",{className:"space-y-4",children:[(l==null?void 0:l.role)==="admin"&&(c==null?void 0:c.sub_type)==="collaborative"&&e.jsxs("div",{children:[e.jsx(t,{htmlFor:"instructor_id",children:"Exam Instructor *"}),e.jsx(_,{data:F||[],placeholder:"Select instructor",defaultValue:((h=r.instructor_id)==null?void 0:h.toString())||"",onSelect:s=>a("instructor_id",s.value)}),e.jsx(n,{message:i.instructor_id})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"exam_category_id",children:"Category *"}),e.jsx(_,{data:E,placeholder:"Select category",onSelect:s=>{a("exam_category_id",s.value)}}),e.jsx(n,{message:i.exam_category_id})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"level",children:"Difficulty Level *"}),e.jsxs(z,{value:r.level,onValueChange:s=>a("level",s),children:[e.jsx(w,{children:e.jsx(B,{placeholder:"Select level"})}),e.jsx(G,{children:T.map(s=>e.jsx($,{value:s,className:"capitalize",children:s},s))})]}),e.jsx(n,{message:i.level})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Duration (Hours) *"}),e.jsx(o,{type:"number",name:"duration_hours",value:r.duration_hours.toString(),onChange:s=>a("duration_hours",parseInt(s.target.value)||0),placeholder:"1",min:"0"}),e.jsx(n,{message:i.duration_hours})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Duration (Minutes) *"}),e.jsx(o,{type:"number",name:"duration_minutes",value:r.duration_minutes.toString(),onChange:s=>a("duration_minutes",parseInt(s.target.value)||0),placeholder:"0",min:"0",max:"59"}),e.jsx(n,{message:i.duration_minutes})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Pass Mark *"}),e.jsx(o,{type:"number",name:"pass_mark",value:r.pass_mark.toString(),onChange:s=>a("pass_mark",parseInt(s.target.value)||0),placeholder:"50",min:"0",max:"100"}),e.jsx(n,{message:i.pass_mark})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Max Attempts *"}),e.jsx(o,{type:"number",name:"max_attempts",value:r.max_attempts.toString(),onChange:s=>a("max_attempts",parseInt(s.target.value)||1),placeholder:"3",min:"1"}),e.jsx(n,{message:i.max_attempts})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Total Marks *"}),e.jsx(o,{type:"number",name:"total_marks",value:r.total_marks.toString(),onChange:s=>a("total_marks",parseInt(s.target.value)||1),placeholder:"100",min:"1"}),e.jsx(n,{message:i.total_marks})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Pricing Type *"}),e.jsx(b,{defaultValue:r.pricing_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:s=>a("pricing_type",s),children:M.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"cursor-pointer",id:s,value:s}),e.jsx(t,{htmlFor:s,className:"cursor-pointer capitalize",children:s})]},s))}),e.jsx(n,{message:i.pricing_type}),e.jsx(v,{collapsible:!0,type:"single",value:r.pricing_type,children:e.jsx(y,{value:"paid",className:"border-none",children:e.jsxs(f,{className:"space-y-4 p-0.5",children:[e.jsxs("div",{className:"pt-3",children:[e.jsx(t,{htmlFor:"price",children:"Price *"}),e.jsx(o,{type:"number",name:"price",value:r.price.toString(),onChange:s=>a("price",s.target.value),placeholder:"Enter your exam price ($0)"}),e.jsx(n,{message:i.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:"discount",name:"discount",checked:r.discount,onCheckedChange:s=>{a("discount",s===!0)}}),e.jsx(t,{htmlFor:"discount",className:"cursor-pointer",children:"Exam Discount"})]}),r.discount&&e.jsxs("div",{children:[e.jsx(o,{type:"number",name:"discount_price",value:r.discount_price.toString(),onChange:s=>a("discount_price",s.target.value),placeholder:"Enter discount price"}),e.jsx(n,{message:i.discount_price})]})]})]})})})]}),e.jsxs("div",{children:[e.jsx(t,{children:u.expiry_period_type}),e.jsx(b,{defaultValue:r.expiry_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:s=>a("expiry_type",s),children:V.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"cursor-pointer",id:s,value:s}),e.jsx(t,{htmlFor:s,className:"capitalize",children:s})]},s))}),e.jsx(n,{message:i.expiry_type}),e.jsx(v,{collapsible:!0,type:"single",value:r.expiry_type,children:e.jsx(y,{value:"limited_time",className:"border-none",children:e.jsx(f,{className:"space-y-4 p-0.5",children:e.jsxs("div",{className:"pt-3",children:[e.jsx(t,{htmlFor:"expiry_duration",children:u.expiry_date}),e.jsx(L,{date:r.expiry_duration,setDate:s=>a("expiry_duration",s)}),e.jsx(n,{message:i.expiry_duration})]})})})})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"thumbnail",children:"Thumbnail"}),e.jsx(o,{type:"file",name:"thumbnail",onChange:s=>{var j;const m=(j=s.target.files)==null?void 0:j[0];m&&a("thumbnail",m)}}),e.jsx(n,{message:i.thumbnail})]})]})]}),e.jsx("div",{className:"col-span-2 mt-6 text-right",children:e.jsx(H,{loading:D,children:button.create_exam})})]})})};Q.layout=d=>e.jsx(K,{children:d});export{Q as default};

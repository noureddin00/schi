import{u as v,j as e,L as r,an as _,r as o,aj as y,ao as D,p as E,ap as P}from"./vendor-BBDGfIfP.js";import{I as B}from"./index-C6XTzuDY.js";import{M as O}from"./main-BfH_Euhm.js";import{A as F}from"./app-logo-opM5JP4B.js";import{B as i}from"./button-BxbUMaK9.js";import{D as k,a as L,b as z,d as R,c as T}from"./dropdown-menu-BvLJ_5Oe.js";import{S as G}from"./scroll-area-Dmjd_gyP.js";import{u as A}from"./use-auth-CGMsRAdC.js";import{u as M}from"./use-screen-5sSdizVg.js";import{c as C}from"./utils-fgVZ67ei.js";import{A as X}from"./appearance-CzLcVWYL.js";import{L as Y}from"./language-plqgqSJb.js";import{N as q}from"./notification-DhXMcL3J.js";import{P as H}from"./profile-toggle-l86s_XOw.js";const J=()=>{const{cartCount:n}=v().props;return e.jsx(r,{href:route("course-cart.index"),children:e.jsxs("div",{className:"relative",children:[n&&n>0?e.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:n}):null,e.jsx(i,{variant:"secondary",size:"icon",className:"relative h-9 w-9 rounded-full p-0",children:e.jsx(_,{className:"!h-5 !w-5"})})]})})},K=({language:n})=>{const{props:c}=v(),{navbar:l,translate:t,system:f}=c,{isLoggedIn:d}=A(),{screen:x}=M(),[h,j]=o.useState(!1),p=l.navbar_items.sort((a,g)=>a.sort-g.sort),m=()=>p.map(a=>a.slug==="theme"?e.jsx("div",{className:"header-action header-action-theme",children:e.jsx(X,{})},a.id):f.fields.language_selector&&n&&a.slug==="language"?e.jsx("div",{className:"header-action header-action-language",children:e.jsx(Y,{})},a.id):d&&a.slug==="notification"?e.jsx("div",{className:"header-action header-action-notification",children:e.jsx(q,{})},a.id):d&&a.slug==="cart"?e.jsx("div",{className:"header-action header-action-cart",children:e.jsx(J,{})},a.id):null);return e.jsxs("div",{className:"header-actions flex items-center gap-2",children:[x>768?e.jsx("div",{className:"header-actions-desktop flex items-center gap-2",children:m()}):e.jsxs(k,{open:h,onOpenChange:j,children:[e.jsx(L,{asChild:!0,children:e.jsx(i,{size:"icon",variant:"secondary",className:"md:hidden",children:h?e.jsx(y,{className:"h-6 w-6"}):e.jsx(D,{className:"h-6 w-6"})})}),e.jsx(z,{className:"w-12 min-w-10",children:e.jsx(R,{value:"bottom",children:e.jsx("div",{className:"flex flex-col items-center gap-2",children:m()})})})]}),d?p.map(a=>a.slug==="profile"?e.jsx("div",{className:"header-action header-action-profile",children:e.jsx(H,{})},a.id):null):e.jsxs("div",{className:"header-auth-buttons hidden space-x-2 sm:block",children:[e.jsx(i,{asChild:!0,variant:"outline",className:"header-signup-btn",children:e.jsx(r,{href:route("register"),children:t.button.sign_up})}),e.jsx(i,{asChild:!0,className:"header-login-btn",children:e.jsx(r,{href:route("login"),children:t.button.log_in})})]})]})},Q=({language:n=!1,heightCover:c=!0,customizable:l=!0})=>{const{props:t}=v(),{ziggy:f,navbar:d,translate:x}=t,{isAdmin:h,isLoggedIn:j}=A(),[p,m]=o.useState(!1),[a,g]=o.useState(!1),{screen:S}=M();o.useEffect(()=>{const s=()=>{window.scrollY>100?m(!0):m(!1)};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]);const N=s=>{if(s.active)switch(s.type){case"url":return e.jsx(r,{href:s.value||"",className:"text-sm font-normal",children:s.title},s.id);case"dropdown":return e.jsxs(k,{children:[e.jsxs(L,{className:"flex cursor-pointer items-center gap-1 text-sm",children:[s.title,e.jsx(P,{className:"ml-1 h-4 w-4"})]}),e.jsx(z,{align:"start",className:"min-w-20",children:s.items&&Array.isArray(s.items)&&s.items.map((u,I)=>e.jsx(T,{asChild:!0,className:"cursor-pointer px-5",children:e.jsx(r,{href:u.url||"",children:u.title})},I))})]},s.id);default:return null}},w=d.navbar_items.sort((s,u)=>s.sort-u.sort),b=t.customize?f.location:"?customize=true";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:C("app-header fixed top-0 z-30 w-full",a&&"bg-background"),children:[e.jsxs("div",{className:C("app-header-container container mt-0 flex h-[72px] items-center justify-between gap-1 !px-4 transition-all duration-200 md:gap-6",p&&"bg-background shadow-card mx-auto mt-4 h-16 w-full rounded-2xl md:!max-w-6xl",S<768&&"mt-0 h-[72px] rounded-none"),children:[e.jsxs("div",{className:"header-left-section flex items-center gap-2",children:[e.jsx(i,{size:"icon",variant:"secondary",className:"mobile-menu-toggle md:hidden",onClick:()=>g(!a),children:a?e.jsx(y,{className:"h-6 w-6"}):e.jsx(E,{className:"h-6 w-6"})}),e.jsx(r,{href:"/",className:"header-logo-link",children:e.jsx(F,{})})]}),e.jsx("nav",{className:"header-nav-menu hidden gap-4 md:flex md:items-center",children:w.map(s=>e.jsx(o.Fragment,{children:N(s)},s.id))}),e.jsxs("div",{className:"header-right-section flex items-center gap-2",children:[l&&h&&e.jsx(i,{asChild:!0,variant:"outline",className:"header-customize-btn hidden text-sm font-normal sm:block",children:e.jsx(r,{href:b,children:t.customize?"Back":"Customize"})}),e.jsx(K,{language:n})]})]}),a&&e.jsx(G,{className:"mobile-menu-panel bg-background h-[calc(100vh-72px)] border-t md:hidden",children:e.jsxs("div",{className:"mobile-menu-content flex flex-col space-y-4 px-6 py-4",children:[w.map(s=>e.jsx(o.Fragment,{children:N(s)},s.id)),l&&h&&e.jsx(i,{asChild:!0,variant:"outline",className:"text-sm font-normal",children:e.jsx(r,{href:b,children:t.customize?"Back":"Customize"})}),!j&&e.jsxs("div",{className:"block space-y-2 sm:hidden",children:[e.jsx(i,{asChild:!0,variant:"outline",className:"w-full rounded-sm shadow-none sm:px-5 md:h-10",children:e.jsx(r,{href:route("register"),children:x.button.sign_up})}),e.jsx(i,{asChild:!0,className:"w-full rounded-sm shadow-none sm:px-5 md:h-10",children:e.jsx(r,{href:route("login"),children:x.button.log_in})})]})]})})]}),c&&e.jsx("div",{className:"relative z-20 h-[72px] bg-transparent"})]})},ce=({children:n,language:c=!0,navbarHeight:l=!0,customizable:t})=>e.jsx(O,{children:e.jsxs("div",{className:"flex min-h-screen flex-col justify-between overflow-x-hidden",children:[e.jsxs("main",{children:[e.jsx(Q,{heightCover:l,customizable:t,language:c}),n]}),e.jsx(B,{})]})});export{ce as L};

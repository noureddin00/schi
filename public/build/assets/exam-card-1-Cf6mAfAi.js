import{j as s,w as f,L as h,k as u,bg as j,aD as g,an as N}from"./vendor-BBDGfIfP.js";import{B as b}from"./badge-CuP0AKCr.js";import{B as p}from"./button-BxbUMaK9.js";import{C as v,b as y,e as w}from"./card-XBn4TxoT.js";import{c as t}from"./utils-fgVZ67ei.js";const C=({rating:e,reviewCount:c,showCount:l=!0,size:r="md",className:o})=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},d={sm:"text-xs",md:"text-sm",lg:"text-base"},a=typeof e=="number"&&Number.isFinite(e),i=a?Math.min(Math.max(e,0),5):0;return s.jsxs("div",{className:t("flex items-center gap-1",o),children:[s.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(n=>s.jsx(f,{className:t(m[r],n<=i?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")},n))}),s.jsx("span",{className:t("font-medium text-gray-700",d[r]),children:a?i.toFixed(1):"â€”"}),l&&c!==void 0&&s.jsxs("span",{className:t("text-gray-500",d[r]),children:["(",c,")"]})]})},D=({exam:e,variant:c="default",viewType:l="grid",onAddToCart:r,onAddToWishlist:o,className:m})=>{var i,n;const d=c==="compact",a=route("exams.details",{slug:e.slug,id:e.id});return s.jsxs(v,{className:t("group",m,l==="list"&&"flex flex-row"),children:[s.jsx(h,{href:a,className:t(l==="list"&&"w-1/3"),children:s.jsxs("div",{className:t("relative overflow-hidden",l==="grid"?"aspect-video":"h-full min-h-[200px]"),children:[e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):s.jsx("div",{className:"from-primary/20 to-primary/5 flex h-full items-center justify-center bg-gradient-to-br",children:s.jsx("span",{className:"text-primary/30 text-4xl font-bold",children:e.title.charAt(0)})}),e.level&&s.jsx(b,{className:"absolute top-2 left-2 capitalize",children:e.level})]})}),s.jsxs("div",{className:t("flex flex-col",l==="list"&&"flex-1"),children:[s.jsxs(y,{className:"p-4",children:[s.jsx(h,{href:a,children:s.jsx("h3",{className:"group-hover:text-primary mb-2 line-clamp-2 text-lg font-semibold transition-colors",children:e.title})}),!d&&e.short_description&&s.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2 text-sm",children:e.short_description}),s.jsxs("div",{className:"text-muted-foreground mb-3 flex items-center gap-1 text-sm",children:[s.jsx("span",{children:"by"}),s.jsx("span",{className:"font-medium",children:((n=(i=e.instructor)==null?void 0:i.user)==null?void 0:n.name)||"Instructor"})]}),s.jsxs("div",{className:"text-muted-foreground mb-3 flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(u,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.duration_hours,"h ",e.duration_minutes,"m"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(j,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.enrollments_count||0," students"]})]})]}),e.average_rating!==void 0&&s.jsx(C,{rating:e.average_rating,reviewCount:e.reviews_count,size:"sm",className:"mb-3"})]}),s.jsxs(w,{className:t("flex items-center justify-between border-t p-4",l==="list"&&"mt-auto"),children:[s.jsx("div",{className:"flex items-baseline gap-2",children:e.pricing_type==="free"?s.jsx("span",{className:"text-lg font-bold text-green-600",children:"Free"}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-2xl font-bold",children:["$",e.discount_price]}),e.discount>0&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.price]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsx(p,{variant:"outline",size:"icon",onClick:x=>{x.preventDefault(),o(e)},children:s.jsx(g,{className:"h-4 w-4"})}),r&&e.pricing_type==="paid"&&s.jsx(p,{variant:"default",size:"icon",onClick:x=>{x.preventDefault(),r(e)},children:s.jsx(N,{className:"h-4 w-4"})})]})]})]})]})};export{D as E};

import{r as v,j as o}from"./vendor-CVklK8n9.js";import{C as g}from"./chunked-uploader-input-B-9QcO36.js";import{I as w}from"./input-error-ucpTTRPI.js";import{I as N}from"./input-Bw-r9Otv.js";import{L as r}from"./label-BlcvhkRY.js";import{R as A,a as c}from"./radio-group-urbujFiV.js";import{T as U}from"./textarea-DHrC07nl.js";import"./button-DQg8E2h7.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./index-DSOFYiIO.js";const G=({data:s,setData:i,errors:m,isSubmit:x,setIsFileSelected:l,setIsFileUploaded:h,setIsSubmit:n})=>{var a,u,d;const[t,j]=v.useState(((a=s.options)==null?void 0:a.audio_source)||"url"),f=e=>{var p;j(e),i("options",{...s.options,audio_source:e,audio_url:e==="url"&&((p=s.options)==null?void 0:p.audio_url)||""})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(r,{children:"Instructions"}),o.jsxs("div",{className:"rounded-md bg-blue-50 p-3 text-sm text-blue-900",children:[o.jsx("p",{className:"mb-1 font-medium",children:"How listening questions work:"}),o.jsx("p",{children:"• Upload or link to an audio file"}),o.jsx("p",{children:"• Students listen to the audio and answer the question"}),o.jsx("p",{children:"• You can use multiple choice options or short answer"})]})]}),o.jsxs("div",{children:[o.jsx(r,{children:"Audio Source"}),o.jsxs(A,{value:t,onValueChange:e=>f(e),className:"flex gap-4 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(c,{value:"url",id:"url"}),o.jsx(r,{htmlFor:"url",className:"cursor-pointer font-normal",children:"Audio URL"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(c,{value:"upload",id:"upload"}),o.jsx(r,{htmlFor:"upload",className:"cursor-pointer font-normal",children:"Upload File"})]})]})]}),t==="url"?o.jsxs("div",{children:[o.jsx(r,{children:"Audio URL *"}),o.jsx(N,{type:"url",placeholder:"https://example.com/audio.mp3",value:((u=s.options)==null?void 0:u.audio_url)||"",onChange:e=>i("options",{...s.options,audio_url:e.target.value})}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Direct link to an audio file (mp3, wav, ogg)"})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx(r,{children:"Upload Audio File *"}),o.jsx(g,{isSubmit:x,filetype:"audio",delayUpload:!0,onFileSelected:e=>{l(!0)},onFileUploaded:e=>{h(!0),i("options",{...s.options,new_audio_url:e.file_url})},onError:e=>{n(!1),l(!1)},onCancelUpload:()=>{n(!1),l(!1)}}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Supported formats: MP3, WAV, OGG (Max 100MB)"})]})}),o.jsxs("div",{children:[o.jsx(r,{children:"Answer Instructions"}),o.jsx(U,{placeholder:"What should students answer after listening? (e.g., 'Summarize the main points' or 'Answer the following questions')",rows:3,value:((d=s.options)==null?void 0:d.instructions)||"",onChange:e=>i("options",{...s.options,instructions:e.target.value})})]}),o.jsx(w,{message:m.options})]})};export{G as default};

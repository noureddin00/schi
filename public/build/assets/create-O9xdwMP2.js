import{u as $,b as q,r as z,j as e}from"./vendor-BBDGfIfP.js";import{C as f}from"./combobox-D7KHlSTK.js";import{D as J}from"./datetime-picker-D77t9GA8.js";import{I as l}from"./input-error-DzlB5Qkt.js";import{L as K}from"./loading-button-BLSSbYXc.js";import{A as L,a as S,c as V}from"./accordion-DAQp0Avn.js";import{C as Q}from"./card-XBn4TxoT.js";import{C as U}from"./checkbox-DFVJwr6m.js";import{I as h}from"./input-Dldj9DiJ.js";import{L as i}from"./label-DUVUvbLf.js";import{R as v,a as x}from"./radio-group-CBkhOvCv.js";import{S as W,a as X,b as Y,c as Z,d as ee}from"./select-CMFY0w3t.js";import{T as se}from"./textarea-ovCXlSTO.js";import{c as re}from"./course-languages-DcPHNS0l.js";import{D as ie}from"./layout-5_1cIG4M.js";import{o as n}from"./inertia-SZXqLvQm.js";import{k as te}from"./richtor-QjVY_KZS.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./popover-CmHxiVMc.js";import"./use-lang-B9LAL-fo.js";import"./sidebar-BIOzr87F.js";import"./separator-CHdmUWH0.js";import"./sheet-wkcDRUUF.js";import"./tooltip-CsicHBaL.js";import"./main-BfH_Euhm.js";import"./index-G4n3qM_p.js";import"./appearance-D0XNWRaj.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./app-Bzw790zV.js";import"./language-plqgqSJb.js";import"./notification-DhXMcL3J.js";import"./scroll-area-Dmjd_gyP.js";import"./app-logo-BJTT6-Cm.js";import"./route-B4ZMN77y.js";import"./avatar-lYJ9pRpJ.js";const ae=d=>{const{props:D}=$(),{translate:M,locale:k}=D,{input:r,button:j,common:p,dashboard:c}=M,m=k==="ar",_=d.auth.user,w={free:j.free||"Free",paid:j.paid||"Paid"},A={lifetime:(m?"مدى الحياة":"")||(c==null?void 0:c.lifetime)||p.lifetime||"Lifetime",limited_time:(m?"وقت محدود":"")||(c==null?void 0:c.limited_time)||p.limited_time||"Limited Time"},y={off:(m?"معطل":"")||p.off||"Off",on:(m?"مفعل":"")||p.on||"On"},{labels:T,prices:b,expiries:N,categories:C,instructors:P,system:F}=d,{data:a,setData:t,post:R,errors:o,processing:E}=q({title:"",short_description:"",description:"",status:"draft",level:"",language:"",pricing_type:"paid",price:"",discount:!1,discount_price:"",expiry_type:"lifetime",expiry_duration:new Date,drip_content:!1,thumbnail:null,instructor_id:_.role==="admin"&&F.sub_type==="collaborative"?"":_.instructor_id,course_category_id:"",course_category_child_id:""}),H=s=>{s.preventDefault(),R(route("courses.store"))},G=z.useMemo(()=>C.flatMap(s=>{var I;const g={label:s.title,value:s.title,id:s.id,child_id:""},B=((I=s.category_children)==null?void 0:I.map(u=>({label:`--${u.title}`,value:u.title,id:u.course_category_id,child_id:u.id})))||[];return[g,...B]}),[C]),O=P.filter(s=>s.user!==null).map(s=>({label:s.user.name,value:s.id}));return e.jsx(Q,{className:"container p-6",children:e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(i,{children:[r.title," *"]}),e.jsx(h,{name:"title",value:a.title,onChange:s=>n(s,t),placeholder:r.title_placeholder}),e.jsx(l,{message:o.title})]}),e.jsxs("div",{children:[e.jsx(i,{children:r.short_description}),e.jsx(se,{rows:5,name:"short_description",value:a.short_description,onChange:s=>n(s,t),placeholder:r.short_description_placeholder}),e.jsx(l,{message:o.short_description})]}),e.jsxs("div",{children:[e.jsx(i,{children:r.description}),e.jsx(te,{ssr:!0,output:"html",placeholder:{paragraph:r.description_placeholder,imageCaption:r.description_placeholder},contentMinHeight:256,contentMaxHeight:640,initialContent:a.description,onContentChange:s=>t(g=>({...g,description:s}))}),e.jsx(l,{message:o.description})]})]}),e.jsxs("div",{className:"space-y-4",children:[_.role==="admin"&&F.sub_type==="collaborative"&&e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"instructor_id",children:[r.course_instructor," *"]}),e.jsx(f,{defaultValue:a.instructor_id,data:O||[],placeholder:r.course_instructor,onSelect:s=>t("instructor_id",s.value)}),e.jsx(l,{message:o.instructor_id})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"course_category_id",children:[r.category," *"]}),e.jsx(f,{data:G,placeholder:r.category_placeholder,onSelect:s=>{t("course_category_id",s.id),t("course_category_child_id",s.child_id)}}),e.jsx(l,{message:o.course_category_id})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"level",children:[r.course_level," *"]}),e.jsxs(W,{value:a.level,onValueChange:s=>t("level",s),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:r.course_level_placeholder})}),e.jsx(Z,{children:T.map(s=>e.jsx(ee,{value:s,children:s},s))})]}),e.jsx(l,{message:o.level})]})]}),e.jsxs("div",{children:[e.jsxs(i,{children:[r.course_language," *"]}),e.jsx(f,{data:re,placeholder:r.course_language_placeholder,onSelect:s=>t("language",s.value)}),e.jsx(l,{message:o.language})]}),e.jsxs("div",{children:[e.jsxs(i,{children:[r.pricing_type," *"]}),e.jsx(v,{defaultValue:a.pricing_type,className:"flex items-center gap-4 rtl:flex-row-reverse pt-2 pb-1",onValueChange:s=>t("pricing_type",s),children:b.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"cursor-pointer",id:s,value:s}),e.jsx(i,{htmlFor:s,children:w[s]})]},s))}),e.jsx(l,{message:o.pricing_type}),e.jsx(L,{collapsible:!0,type:"single",value:a.pricing_type,children:e.jsx(S,{value:b[1],className:"border-none",children:e.jsxs(V,{className:"space-y-4 p-0.5",children:[e.jsxs("div",{className:"pt-3",children:[e.jsxs(i,{htmlFor:"price",children:[r.price," *"]}),e.jsx(h,{type:"number",name:"price",value:a.price,onChange:s=>n(s,t),placeholder:r.course_price_placeholder}),e.jsx(l,{message:o.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"discount",name:"discount",checked:a.discount,onCheckedChange:s=>{t("discount",s)}}),e.jsx(i,{htmlFor:"discount",children:r.course_discount})]}),a.discount&&e.jsxs("div",{children:[e.jsx(h,{type:"number",name:"discount_price",value:a.discount_price,onChange:s=>n(s,t),placeholder:r.discount_price_placeholder}),e.jsx(l,{message:o.discount_price})]})]})]})})})]}),e.jsxs("div",{children:[e.jsx(i,{children:r.expiry_period_type}),e.jsx(v,{defaultValue:a.expiry_type,className:"flex items-center gap-4 rtl:flex-row-reverse pt-2 pb-1",onValueChange:s=>t("expiry_type",s),children:N.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"cursor-pointer",id:s,value:s}),e.jsx(i,{htmlFor:s,children:A[s]})]},s))}),e.jsx(l,{message:o.expiry_type}),e.jsx(L,{collapsible:!0,type:"single",value:a.expiry_type,children:e.jsx(S,{value:N[1],className:"border-none",children:e.jsx(V,{className:"space-y-4 p-0.5",children:e.jsxs("div",{className:"pt-3",children:[e.jsx(i,{htmlFor:"expiry_duration",children:r.expiry_date}),e.jsx(J,{date:a.expiry_duration,setDate:s=>t("expiry_duration",s)}),e.jsx(l,{message:o.expiry_duration})]})})})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"thumbnail",children:r.thumbnail}),e.jsx(h,{type:"file",name:"thumbnail",onChange:s=>n(s,t)}),e.jsx(l,{message:o.thumbnail})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"drip_content",children:[r.enable_drip_content," *"]}),e.jsxs(v,{defaultValue:a.drip_content?"on":"off",className:"flex items-center gap-4 rtl:flex-row-reverse pt-2 pb-1",onValueChange:s=>t("drip_content",s==="on"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"cursor-pointer",id:"off",value:"off"}),e.jsx(i,{htmlFor:"off",children:y.off})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"cursor-pointer",id:"on",value:"on"}),e.jsx(i,{htmlFor:"on",children:y.on})]})]}),e.jsx(l,{message:o.drip_content})]})]})]}),e.jsx("div",{className:"col-span-2 mt-6 text-right",children:e.jsx(K,{loading:E,children:j.create_course})})]})})};ae.layout=d=>e.jsx(ie,{children:d});export{ae as default};

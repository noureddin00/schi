import{u as d,j as s,L as w,e as u}from"./vendor-CVklK8n9.js";import{B as l}from"./button-DQg8E2h7.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";const j=({watchHistory:e})=>{const{props:t}=d(),{translate:n}=t,{frontend:r}=n;return s.jsx(l,{size:"lg",className:"w-full",asChild:!0,children:s.jsx(w,{href:route("course.player",{type:e.current_watching_type,watch_history:e.id,lesson_id:e.current_watching_id}),children:r.play_course})})},g=({course:e,approvalStatus:t})=>{const{props:n}=d(),{translate:r}=n,{frontend:o}=r;return t.approve_able?s.jsx(l,{size:"lg",className:"w-full",onClick:()=>u.post(route("player.init.watch-history"),{course_id:e.id}),children:o.play_course}):s.jsx(l,{disabled:!0,size:"lg",className:"w-full",children:o.course_player})},b=({auth:e,course:t})=>{const{props:n}=d(),{translate:r}=n,{frontend:o}=r,a=p=>{var i;u.post(route("enrollments.store"),{user_id:(i=e.user)==null?void 0:i.id,course_id:p.id,enrollment_type:"free"})};return t.pricing_type==="free"?s.jsx(l,{size:"lg",className:"w-full",onClick:()=>a(t),children:o.enroll_now}):s.jsx("a",{href:route("payments.index",{from:"web",item:"course",id:t.id}),children:s.jsx(l,{size:"lg",className:"w-full",children:o.buy_now})})},E=()=>{const{auth:e,course:t,enrollment:n,watchHistory:r,approvalStatus:o,wishlists:a,translate:p}=d().props,{frontend:i}=p,_=!!n,f=!!r,m=e.user&&["admin","instructor"].includes(e.user.role),x=f&&(m||_),h=a.find(c=>c.course_id===t.id),y=()=>{var c;h?u.delete(route("course-wishlists.destroy",{id:h.id})):u.post(route("course-wishlists.store",{user_id:(c=e.user)==null?void 0:c.id,course_id:t.id}))};return x?s.jsx(j,{watchHistory:r}):m?s.jsx(g,{course:t,approvalStatus:o}):s.jsxs(s.Fragment,{children:[s.jsx(l,{className:"w-full px-1 sm:px-3",variant:"outline",size:"lg",onClick:y,children:h?i.remove_from_wishlist:i.add_to_wishlist}),s.jsx(b,{auth:e,course:t})]})};export{E as default};

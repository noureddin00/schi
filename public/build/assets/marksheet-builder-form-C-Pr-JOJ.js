import{u as I,r as L,b as B,j as l,bV as R}from"./vendor-BBDGfIfP.js";import{I as V}from"./input-error-DzlB5Qkt.js";import{B as E}from"./button-BxbUMaK9.js";import{C as m,a as p,c as x,d,b as j}from"./card-XBn4TxoT.js";import{I as c}from"./input-Dldj9DiJ.js";import{L as n}from"./label-DUVUvbLf.js";import{S as v,a as C,b as N,c as T,d as h}from"./select-CMFY0w3t.js";import{T as U}from"./textarea-ovCXlSTO.js";import G from"./marksheet-preview-C_V8JglX.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const Y=({template:r})=>{const{props:P}=I(),k=P.translate||{},{dashboard:e={},button:i={}}=k,t={basicInfo:(e==null?void 0:e.basic_information)||"المعلومات الأساسية",basicInfoDesc:(e==null?void 0:e.set_template_name)||"حدد اسم القالب",templateType:(e==null?void 0:e.template_type)||"نوع القالب",selectTemplateType:(e==null?void 0:e.select_template_type)||"اختر نوع القالب",course:(e==null?void 0:e.course)||"دورة",name:(e==null?void 0:e.template_name)||"اسم القالب",namePlaceholder:(e==null?void 0:e.template_name_placeholder)||"مثال: قالب أزرق حديث",logoBranding:(e==null?void 0:e.logo_branding)||"الشعار والعلامة",logoDesc:(e==null?void 0:e.upload_institution_logo)||"حمّل شعار المؤسسة",logoImage:(e==null?void 0:e.logo_image)||"صورة الشعار",logoRecommendation:(e==null?void 0:e.logo_recommendation)||"مستحسن: PNG أو SVG، حجم أقصى 1 ميغابايت",colors:(e==null?void 0:e.colors)||"الألوان",colorsDesc:(e==null?void 0:e.marksheet_colors)||"خصّص نظام ألوان كشف الدرجات",primaryColor:(e==null?void 0:e.primary_color)||"اللون الأساسي",secondaryColor:(e==null?void 0:e.secondary_color)||"اللون الثانوي",backgroundColor:(e==null?void 0:e.background_color)||"لون الخلفية",borderColor:(e==null?void 0:e.border_color)||"لون الإطار",typography:(e==null?void 0:e.typography)||"الخط",typographyDesc:(e==null?void 0:e.choose_font_style)||"اختر نمط الخط لكشف الدرجات",fontFamily:(e==null?void 0:e.font_family)||"نوع الخط",serif:(e==null?void 0:e.serif)||"سيريف (كلاسيكي)",sansSerif:(e==null?void 0:e.sans_serif)||"سان سيريف (حديث)",monospace:(e==null?void 0:e.monospace)||"أحادي المسافة (تقني)",content:(e==null?void 0:e.marksheet_content)||"محتوى كشف الدرجات",contentDesc:(e==null?void 0:e.marksheet_content_description)||"خصّص نص كشف الدرجات",headerText:(e==null?void 0:e.header_text)||"نص الترويسة",headerPlaceholder:(e==null?void 0:e.header_placeholder)||"كشف درجات الدورة",institutionName:(e==null?void 0:e.institution_name)||"اسم المؤسسة",institutionPlaceholder:(e==null?void 0:e.institution_placeholder)||"اسم المؤسسة التعليمية",footerText:(e==null?void 0:e.footer_text)||"نص التذييل",footerPlaceholder:(e==null?void 0:e.footer_placeholder)||"هذا كشف درجات رسمي",saving:(e==null?void 0:e.saving)||"جارٍ الحفظ...",updateTemplate:(e==null?void 0:e.update_template)||(i==null?void 0:i.update_template)||"تحديث القالب",createTemplate:(e==null?void 0:e.create_template)||(i==null?void 0:i.create_template)||"إنشاء القالب",livePreview:(e==null?void 0:e.live_preview)||"معاينة مباشرة",livePreviewDesc:(e==null?void 0:e.marksheet_live_preview)||"شاهد شكل كشف الدرجات",sampleStudent:(e==null?void 0:e.sample_student_name)||"محمد أحمد",sampleCourse:(e==null?void 0:e.sample_course_name)||"اسم دورة تجريبية",sampleDate:(e==null?void 0:e.sample_date)||"١ يناير ٢٠٢٥"},w=(r==null?void 0:r.template_data)||{primaryColor:"#1e40af",secondaryColor:"#475569",backgroundColor:"#ffffff",borderColor:"#2563eb",headerText:t.headerPlaceholder,institutionName:t.institutionPlaceholder,footerText:t.footerPlaceholder,fontFamily:"sans-serif"},[_,D]=L.useState(r==null?void 0:r.logo_path),{data:s,setData:o,post:f,processing:y,errors:g}=B({type:(r==null?void 0:r.type)||"course",name:(r==null?void 0:r.name)||t.namePlaceholder,logo:null,template_data:w}),F=(a,u)=>{o(a,u),D(URL.createObjectURL(u))},S=a=>{a.preventDefault(),f(r?route("marksheet.templates.update",r.id):route("marksheet.templates.store"))};return l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.basicInfo}),l.jsx(d,{children:t.basicInfoDesc})]}),l.jsxs(j,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"type",children:t.templateType}),l.jsxs(v,{value:s.type,onValueChange:a=>o("type",a),children:[l.jsx(C,{children:l.jsx(N,{placeholder:t.selectTemplateType})}),l.jsx(T,{children:l.jsx(h,{value:"course",children:t.course})})]}),g.type&&l.jsx("p",{className:"text-sm text-red-500",children:g.type})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"name",children:t.name}),l.jsx(c,{id:"name",value:s.name,onChange:a=>o("name",a.target.value),placeholder:t.namePlaceholder}),g.name&&l.jsx("p",{className:"text-sm text-red-500",children:g.name})]})]})]}),l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.logoBranding}),l.jsx(d,{children:t.logoDesc})]}),l.jsx(j,{className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"logo",children:t.logoImage}),l.jsxs("div",{className:"space-y-2",children:[_&&l.jsx("div",{className:"h-20 w-20 overflow-hidden rounded border",children:l.jsx("img",{src:_,alt:"Logo preview",className:"h-full w-full object-contain"})}),l.jsx("div",{className:"flex-1",children:l.jsx(c,{id:"logo",type:"file",accept:"image/*",onChange:a=>{var u;return F("logo",(u=a.target.files)==null?void 0:u[0])}})})]}),l.jsx("p",{className:"text-muted-foreground text-xs",children:t.logoRecommendation}),l.jsx(V,{message:g.logo})]})})]}),l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.colors}),l.jsx(d,{children:t.colorsDesc})]}),l.jsx(j,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"primaryColor",children:t.primaryColor}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(c,{id:"primaryColor",type:"color",value:s.template_data.primaryColor,onChange:a=>o("template_data",{...s.template_data,primaryColor:a.target.value}),className:"h-10 w-16"}),l.jsx(c,{value:s.template_data.primaryColor,onChange:a=>o("template_data",{...s.template_data,primaryColor:a.target.value}),placeholder:"#1e40af"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"secondaryColor",children:t.secondaryColor}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(c,{id:"secondaryColor",type:"color",value:s.template_data.secondaryColor,onChange:a=>o("template_data",{...s.template_data,secondaryColor:a.target.value}),className:"h-10 w-16"}),l.jsx(c,{value:s.template_data.secondaryColor,onChange:a=>o("template_data",{...s.template_data,secondaryColor:a.target.value}),placeholder:"#475569"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"backgroundColor",children:t.backgroundColor}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(c,{id:"backgroundColor",type:"color",value:s.template_data.backgroundColor,onChange:a=>o("template_data",{...s.template_data,backgroundColor:a.target.value}),className:"h-10 w-16"}),l.jsx(c,{value:s.template_data.backgroundColor,onChange:a=>o("template_data",{...s.template_data,backgroundColor:a.target.value}),placeholder:"#ffffff"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"borderColor",children:t.borderColor}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(c,{id:"borderColor",type:"color",value:s.template_data.borderColor,onChange:a=>o("template_data",{...s.template_data,borderColor:a.target.value}),className:"h-10 w-16"}),l.jsx(c,{value:s.template_data.borderColor,onChange:a=>o("template_data",{...s.template_data,borderColor:a.target.value}),placeholder:"#2563eb"})]})]})]})})]}),l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.typography}),l.jsx(d,{children:t.typographyDesc})]}),l.jsx(j,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"fontFamily",children:t.fontFamily}),l.jsxs(v,{value:s.template_data.fontFamily,onValueChange:a=>o("template_data",{...s.template_data,fontFamily:a}),children:[l.jsx(C,{children:l.jsx(N,{})}),l.jsxs(T,{children:[l.jsx(h,{value:"serif",children:t.serif}),l.jsx(h,{value:"sans-serif",children:t.sansSerif}),l.jsx(h,{value:"monospace",children:t.monospace})]})]})]})})]}),l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.content}),l.jsx(d,{children:t.contentDesc})]}),l.jsxs(j,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"headerText",children:t.headerText}),l.jsx(c,{id:"headerText",value:s.template_data.headerText,onChange:a=>o("template_data",{...s.template_data,headerText:a.target.value}),placeholder:t.headerPlaceholder})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"institutionName",children:t.institutionName}),l.jsx(c,{id:"institutionName",value:s.template_data.institutionName,onChange:a=>o("template_data",{...s.template_data,institutionName:a.target.value}),placeholder:t.institutionPlaceholder})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(n,{htmlFor:"footerText",children:t.footerText}),l.jsx(U,{id:"footerText",value:s.template_data.footerText,onChange:a=>o("template_data",{...s.template_data,footerText:a.target.value}),placeholder:t.footerPlaceholder,rows:3})]})]})]}),l.jsxs(E,{onClick:S,disabled:y,className:"w-full",children:[l.jsx(R,{className:"mr-2 h-4 w-4"}),y?t.saving:r?t.updateTemplate:t.createTemplate]})]}),l.jsx("div",{className:"lg:sticky lg:top-6",children:l.jsxs(m,{children:[l.jsxs(p,{children:[l.jsx(x,{children:t.livePreview}),l.jsx(d,{children:t.livePreviewDesc})]}),l.jsx(j,{children:l.jsx(G,{template:s,studentName:t.sampleStudent,courseName:t.sampleCourse,completionDate:t.sampleDate,logoUrl:_})})]})})]})};export{Y as default};

import{u as p,j as i,q as t,cd as g,s as r,c7 as v,ce as f,cf as h}from"./vendor-BBDGfIfP.js";import{B as l}from"./badge-CuP0AKCr.js";import{B as o}from"./button-BxbUMaK9.js";import y from"./coupon-form-CSaFFWkS.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./input-error-DzlB5Qkt.js";import"./loading-button-BLSSbYXc.js";import"./dialog-Ao4xhLhR.js";import"./input-Dldj9DiJ.js";import"./label-DUVUvbLf.js";import"./select-CMFY0w3t.js";import"./switch-DRIloLVZ.js";import"./inertia-SZXqLvQm.js";const S=({courses:n})=>{const c=p(),{translate:d}=c.props,{dashboard:a={}}=d||{},m=e=>e.is_active?e.valid_to&&f(r(e.valid_to))?{label:a.expired||"منتهي الصلاحية",variant:"destructive"}:e.valid_from&&h(r(e.valid_from))?{label:a.scheduled||"مجدول",variant:"secondary"}:e.usage_limit&&e.used_count>=e.usage_limit?{label:a.used_up||"مستخدمة بالكامل",variant:"destructive"}:{label:a.active||"نشط",variant:"default"}:{label:a.inactive||"غير مفعل",variant:"secondary"},u=e=>{navigator.clipboard.writeText(e),alert(a.coupon_copied||"تم نسخ رمز القسيمة إلى الحافظة!")};return[{accessorKey:"code",header:()=>i.jsx("p",{className:"pl-4",children:a.coupon_code||"رمز القسيمة"}),cell:({row:e})=>i.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[i.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 font-bold",children:e.original.code}),i.jsx(o,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>u(e.original.code),children:i.jsx(g,{className:"h-3 w-3"})})]})},{accessorKey:"discount",header:a.discount||"الخصم",cell:({row:e})=>i.jsx(l,{variant:"outline",children:e.original.discount_type==="percentage"?`${e.original.discount}% ${a.off||"خصم"}`:`$${e.original.discount} ${a.off||"خصم"}`})},{accessorKey:"course",header:a.course||"الدورة",cell:({row:e})=>e.original.course?i.jsx("span",{className:"font-medium",children:e.original.course.title}):i.jsx("span",{className:"text-primary font-medium",children:a.global_coupon||"قسيمة عامة"})},{accessorKey:"usage",header:a.usage||"الاستخدام",cell:({row:e})=>e.original.usage_type==="limited"?i.jsxs("span",{children:[e.original.used_count," / ",e.original.usage_limit]}):i.jsx("span",{children:a.unlimited||"غير محدود"})},{accessorKey:"valid_from",header:a.valid_from||"صحيح من",cell:({row:e})=>e.original.valid_from?t(r(e.original.valid_from),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"valid_to",header:a.valid_to||"صحيح إلى",cell:({row:e})=>e.original.valid_to?t(r(e.original.valid_to),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"status",header:a.status||"الحالة",cell:({row:e})=>{const s=m(e.original);return i.jsx(l,{variant:s.variant,children:s.label})}},{id:"actions",header:()=>i.jsx("p",{className:"pr-4 text-end",children:a.actions||"الإجراءات"}),cell:({row:e})=>{const s=e.original;return i.jsx("div",{className:"flex items-center justify-end py-2 pr-4",children:i.jsx(y,{title:a.edit_coupon||"تعديل القسيمة",coupon:s,courses:n,handler:i.jsx(o,{size:"icon",variant:"secondary",className:"h-8 w-8",children:i.jsx(v,{})})})})}}]};export{S as default};

import{u as h,r as j,b$ as g,j as e,k as u,A as m,c2 as f,c3 as N,c4 as b,c5 as w}from"./vendor-BBDGfIfP.js";import{T as C}from"./table-header-Blk2L6oN.js";import{B as y}from"./badge-CuP0AKCr.js";import{C as l,a as R,c as v,b as T}from"./card-XBn4TxoT.js";import{T as S,a as M,b as n,c as x}from"./table-DtRgeYtV.js";import B from"./exam-attempt-columns-C5ZV8opL.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./button-BxbUMaK9.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./route-B4ZMN77y.js";const $=()=>{var c;const{exam:d,attempts:a,bestAttempt:s}=h().props,[i,p]=j.useState([]),r=g({data:a||[],columns:B((d==null?void 0:d.id)??0,s==null?void 0:s.id),onSortingChange:p,getCoreRowModel:w(),getSortedRowModel:b(),getFilteredRowModel:N(),state:{sorting:i}});return!a||a.length===0?e.jsx("div",{className:"flex h-full items-center justify-center rounded-lg border border-dashed text-center",children:e.jsxs("div",{className:"space-y-2 p-10",children:[e.jsx(u,{className:"text-muted-foreground mx-auto h-10 w-10"}),e.jsx("h2",{className:"text-xl font-semibold",children:"No attempts yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Your exam attempts will appear here once you start the exam."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Attempts"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(t=>t.status==="completed").length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(t=>t.status==="in_progress").length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Best Score"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s==null?void 0:s.obtained_marks}),s&&e.jsx(m,{className:"h-5 w-5 text-amber-500"})]})]})})]}),e.jsxs(l,{children:[e.jsxs(R,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsx(v,{className:"text-xl font-semibold",children:"Exam Attempts"}),s&&e.jsxs(y,{variant:"secondary",className:"flex items-center gap-1 bg-amber-100 text-amber-700",children:[e.jsx(m,{className:"h-4 w-4"}),"Best Score ",s.obtained_marks]})]}),e.jsx(T,{className:"p-0",children:e.jsxs(S,{className:"border-border border-y",children:[e.jsx(C,{table:r}),e.jsx(M,{children:(c=r.getRowModel().rows)!=null&&c.length?r.getRowModel().rows.map(t=>e.jsx(n,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(o=>e.jsx(x,{children:f(o.column.columnDef.cell,o.getContext())},o.id))},t.id)):e.jsx(n,{children:e.jsx(x,{colSpan:r.getAllColumns().length,className:"h-24 text-center",children:"No exam attempts found."})})})]})})]})]})};export{$ as default};

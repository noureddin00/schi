import{j as s,w as u,L as p,k as g,bg as j,aD as N,an as v}from"./vendor-CVklK8n9.js";import{B as b}from"./badge-C1BPdyj4.js";import{B as f}from"./button-DQg8E2h7.js";import{C as w,b as y,e as C}from"./card-D6iTMsWZ.js";import{c as t}from"./utils-fgVZ67ei.js";const _=({rating:e,reviewCount:n,showCount:l=!0,size:a="md",className:c})=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},o={sm:"text-xs",md:"text-sm",lg:"text-base"},r=typeof e=="number"&&Number.isFinite(e),d=r?Math.min(Math.max(e,0),5):0;return s.jsxs("div",{className:t("flex items-center gap-1",c),children:[s.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(i=>s.jsx(u,{className:t(m[a],i<=d?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")},i))}),s.jsx("span",{className:t("font-medium text-gray-700",o[a]),children:r?d.toFixed(1):"—"}),l&&n!==void 0&&s.jsxs("span",{className:t("text-gray-500",o[a]),children:["(",n,")"]})]})},R=({exam:e,variant:n="default",viewType:l="grid",onAddToCart:a,onAddToWishlist:c,className:m})=>{var i,h;const o=n==="compact",r=route("exams.details",{slug:e.slug,id:e.id}),d={beginner:"مبتدئ",intermediate:"متوسط",advanced:"متقدم",expert:"خبير"};return s.jsxs(w,{className:t("group",m,l==="list"&&"flex flex-row"),children:[s.jsx(p,{href:r,className:t(l==="list"&&"w-1/3"),children:s.jsxs("div",{className:t("relative overflow-hidden",l==="grid"?"aspect-video":"h-full min-h-[200px]"),children:[e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):s.jsx("div",{className:"from-primary/20 to-primary/5 flex h-full items-center justify-center bg-gradient-to-br",children:s.jsx("span",{className:"text-primary/30 text-4xl font-bold",children:e.title.charAt(0)})}),e.level&&s.jsx(b,{className:"absolute top-2 left-2",children:d[e.level.toLowerCase()]||e.level})]})}),s.jsxs("div",{className:t("flex flex-col",l==="list"&&"flex-1"),children:[s.jsxs(y,{className:"p-4",children:[s.jsx(p,{href:r,children:s.jsx("h3",{className:"group-hover:text-primary mb-2 line-clamp-2 text-lg font-semibold transition-colors",children:e.title})}),!o&&e.short_description&&s.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2 text-sm",children:e.short_description}),s.jsxs("div",{className:"text-muted-foreground mb-3 flex items-center gap-1 text-sm",children:[s.jsx("span",{children:"بواسطة"}),s.jsx("span",{className:"font-medium",children:((h=(i=e.instructor)==null?void 0:i.user)==null?void 0:h.name)||"المدرب"})]}),s.jsxs("div",{className:"text-muted-foreground mb-3 flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(g,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.duration_hours,"h ",e.duration_minutes,"m"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(j,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.enrollments_count||0," طلاب"]})]})]}),e.average_rating!==void 0&&s.jsx(_,{rating:e.average_rating,reviewCount:e.reviews_count,size:"sm",className:"mb-3"})]}),s.jsxs(C,{className:t("flex items-center justify-between border-t p-4",l==="list"&&"mt-auto"),children:[s.jsx("div",{className:"flex items-baseline gap-2",children:e.pricing_type==="free"?s.jsx("span",{className:"text-lg font-bold text-green-600",children:"مجاني"}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-2xl font-bold",children:["$",e.discount_price]}),e.discount>0&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.price]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[c&&s.jsx(f,{variant:"outline",size:"icon",onClick:x=>{x.preventDefault(),c(e)},children:s.jsx(N,{className:"h-4 w-4"})}),a&&e.pricing_type==="paid"&&s.jsx(f,{variant:"default",size:"icon",onClick:x=>{x.preventDefault(),a(e)},children:s.jsx(v,{className:"h-4 w-4"})})]})]})]})]})};export{R as E};

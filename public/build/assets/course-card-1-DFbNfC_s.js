import{u as N,j as e,L as g,aD as y,w,bg as _,k as C,bh as k,e as p}from"./vendor-BBDGfIfP.js";import{B as T}from"./button-BxbUMaK9.js";import{B as l}from"./badge-CuP0AKCr.js";import{C as B,a as F,b as z,e as D}from"./card-XBn4TxoT.js";import{T as L,a as U,b as E,c as H}from"./tooltip-CsicHBaL.js";import{s as M,c as i,e as P}from"./utils-fgVZ67ei.js";const J=({course:s,viewType:n="grid",className:f,wishlists:a})=>{var h;const{props:d}=N(),{user:o}=d.auth,{translate:b}=d,{button:W,frontend:m,common:c}=b,r=a==null?void 0:a.find(x=>x.course_id===s.id),t=M(d.system.fields.selling_currency),j={beginner:"مبتدئ",intermediate:"متوسط",advanced:"متقدم"},u=()=>{r?p.delete(route("course-wishlists.destroy",{id:r.id})):p.post(route("course-wishlists.store",{user_id:o==null?void 0:o.id,course_id:s.id}))};return e.jsxs(B,{className:i("modern-course-card group overflow-hidden rounded-2xl border border-gray-200 bg-white p-0 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-2",n==="list"&&"sm:flex sm:w-full sm:flex-row sm:justify-between",f),children:[e.jsxs(F,{className:"p-0 relative",children:[e.jsx(g,{href:route("course.details",{slug:s.slug,id:s.id}),children:e.jsxs("div",{className:i("relative h-[220px] overflow-hidden rounded-t-2xl",n==="list"&&"sm:w-[300px] sm:rounded-l-2xl sm:rounded-tr-none"),children:[e.jsx("img",{src:s.thumbnail||"/assets/images/blank-image.jpg",alt:s.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",onError:x=>{const v=x.target;v.src="/assets/images/blank-image.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 z-10",children:[s.pricing_type==="free"&&e.jsx(l,{className:"bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-semibold shadow-lg px-2.5 py-1 rounded-full",children:c.free}),s.discount&&e.jsxs(l,{className:"bg-red-500 hover:bg-red-600 text-white text-xs font-semibold shadow-lg px-2.5 py-1 rounded-full",children:[Math.round((s.price-s.discount_price)/s.price*100),"% خصم"]})]}),a&&e.jsx(L,{delayDuration:0,children:e.jsxs(U,{children:[e.jsx(E,{className:"absolute top-3 left-3 z-10",children:e.jsx(T,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full bg-white/95 hover:bg-white backdrop-blur-sm shadow-md hover:shadow-lg transition-all",onClick:u,children:e.jsx(y,{className:i("h-4 w-4 transition-all",r?"fill-red-500 text-red-500":"text-gray-700")})})}),e.jsx(H,{children:e.jsx("p",{children:r?m.remove_from_wishlist:m.add_to_wishlist})})]})})]}),e.jsxs("div",{className:i("flex flex-col",n==="list"&&"flex-1"),children:[e.jsxs(z,{className:"p-5 pb-4 flex-1",children:[s.level&&e.jsx(l,{variant:"secondary",className:"mb-3 text-xs font-medium bg-blue-50 text-blue-700 hover:bg-blue-100 border-0",children:j[s.level.toLowerCase()]||s.level}),e.jsx(g,{href:route("course.details",{slug:s.slug,id:s.id}),children:e.jsx("h3",{className:"mb-3 font-bold text-lg leading-snug line-clamp-2 text-gray-900 transition-colors hover:text-primary group-hover:text-primary",children:s.title})}),s.instructor&&e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 ring-2 ring-gray-100",children:s.instructor.avatar?e.jsx("img",{src:s.instructor.avatar,alt:s.instructor.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary/10 text-primary font-semibold text-sm",children:(h=s.instructor.name)==null?void 0:h.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.instructor.name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(w,{className:"h-3.5 w-3.5 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.average_rating?Number(s.average_rating).toFixed(1):"0.0"}),e.jsxs("span",{className:"text-gray-500",children:["(",s.reviews_count||0,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium",children:s.enrollments_count||0})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(C,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium",children:P(s,"readable")})]})]})]}),e.jsxs(D,{className:"flex items-center justify-between px-5 py-4 border-t border-gray-100 bg-gray-50/50",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.pricing_type==="free"?e.jsx("span",{className:"text-emerald-600 font-bold text-xl",children:c.free}):s.discount?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-bold text-xl text-primary",children:[t==null?void 0:t.symbol,s.discount_price]}),e.jsxs("span",{className:"text-gray-400 text-sm font-medium line-through",children:[t==null?void 0:t.symbol,s.price]})]}):e.jsxs("span",{className:"font-bold text-xl text-primary",children:[t==null?void 0:t.symbol,s.price]})}),s.is_featured&&e.jsxs(l,{className:"bg-amber-500/10 text-amber-700 hover:bg-amber-500/20 border-0 flex items-center gap-1 text-xs font-semibold",children:[e.jsx(k,{className:"h-3 w-3"}),m.featured||"Featured"]})]})]})]})};export{J as C};

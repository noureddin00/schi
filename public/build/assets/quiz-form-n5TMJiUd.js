import{r as F,u as H,b as I,j as e}from"./vendor-BBDGfIfP.js";import{I as c}from"./input-error-DzlB5Qkt.js";import{L}from"./loading-button-BLSSbYXc.js";import{B as T}from"./button-BxbUMaK9.js";import{D as B,a as E,b as M,c as O,d as b,e as A,f as P}from"./dialog-Ao4xhLhR.js";import{I as p}from"./input-Dldj9DiJ.js";import{L as i}from"./label-DUVUvbLf.js";import{S as Q}from"./scroll-area-Dmjd_gyP.js";import{o as d}from"./inertia-SZXqLvQm.js";import{k as R}from"./richtor-QjVY_KZS.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const z=({title:g,quiz:s,handler:_,sectionId:k})=>{const[y,x]=F.useState(!1),{props:j}=H(),{translate:f}=j,{dashboard:r,input:t,button:h}=f,n={title:(t==null?void 0:t.title)||"العنوان",hours:(r==null?void 0:r.hours)||"الساعات",minutes:(r==null?void 0:r.minutes)||"الدقائق",seconds:(r==null?void 0:r.seconds)||"الثواني",total_mark:(r==null?void 0:r.total_mark)||"الدرجة الكلية",pass_mark:(r==null?void 0:r.pass_mark)||"درجة النجاح",retake_attempts:(t==null?void 0:t.retake_attempts)||"محاولات إعادة الاختبار",quiz_summary:(r==null?void 0:r.quiz_summary)||"ملخص الاختبار"},{data:o,setData:l,post:v,put:C,reset:u,errors:m,processing:D}=I({title:(s==null?void 0:s.title)||"",course_section_id:k,course_id:j.course.id,total_mark:(s==null?void 0:s.total_mark)||"",pass_mark:(s==null?void 0:s.pass_mark)||"",retake:(s==null?void 0:s.retake)||1,summary:(s==null?void 0:s.summary)||"",hours:(s==null?void 0:s.hours)||"",minutes:(s==null?void 0:s.minutes)||"",seconds:(s==null?void 0:s.seconds)||""}),N=a=>{a.preventDefault(),s?C(route("quiz.update",s.id),{onSuccess:()=>{u(),x(!1)}}):v(route("quiz.store"),{onSuccess:()=>{u(),x(!1)}})};return e.jsxs(B,{open:y,onOpenChange:x,children:[e.jsx(E,{children:_}),e.jsx(M,{className:"p-0",children:e.jsxs(Q,{className:"max-h-[90vh] p-6",children:[e.jsx(O,{className:"mb-6",children:e.jsx(b,{children:g})}),e.jsxs("form",{onSubmit:N,className:"space-y-4 p-0.5",children:[e.jsxs("div",{children:[e.jsx(i,{children:n.title}),e.jsx(p,{required:!0,type:"text",name:"title",value:o.title,placeholder:t.quiz_title_placeholder||"أدخل عنوان الاختبار",onChange:a=>d(a,l)}),e.jsx(c,{message:m.title})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:n.hours}),e.jsx(p,{required:!0,type:"number",name:"hours",value:o.hours,placeholder:t.hours_placeholder||"00",onChange:a=>d(a,l)}),e.jsx(c,{message:m.hours})]}),e.jsxs("div",{children:[e.jsx(i,{children:n.minutes}),e.jsx(p,{required:!0,type:"number",name:"minutes",value:o.minutes,placeholder:t.minutes_placeholder||"00",onChange:a=>d(a,l)}),e.jsx(c,{message:m.minutes})]}),e.jsxs("div",{children:[e.jsx(i,{children:n.seconds}),e.jsx(p,{required:!0,type:"number",name:"seconds",value:o.seconds,placeholder:t.seconds_placeholder||"00",onChange:a=>d(a,l)}),e.jsx(c,{message:m.seconds})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:n.total_mark}),e.jsx(p,{required:!0,type:"number",name:"total_mark",value:o.total_mark,onChange:a=>d(a,l)}),e.jsx(c,{message:m.total_mark})]}),e.jsxs("div",{children:[e.jsx(i,{children:n.pass_mark}),e.jsx(p,{required:!0,type:"number",name:"pass_mark",value:o.pass_mark,onChange:a=>d(a,l)}),e.jsx(c,{message:m.pass_mark})]}),e.jsxs("div",{children:[e.jsx(i,{children:n.retake_attempts}),e.jsx(p,{min:"1",required:!0,type:"number",name:"retake",value:o.retake,placeholder:"00",onChange:a=>d(a,l)}),e.jsx(c,{message:m.retake})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"summary",children:n.quiz_summary}),e.jsx(R,{ssr:!0,output:"html",placeholder:{paragraph:"Type your content here...",imageCaption:"Type caption for image (optional)"},contentMinHeight:256,contentMaxHeight:640,initialContent:o.summary,onContentChange:a=>l(S=>({...S,summary:a}))}),e.jsx(c,{message:m.summary})]}),e.jsxs(A,{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(P,{asChild:!0,children:e.jsx(T,{type:"button",variant:"outline",children:(h==null?void 0:h.close)||"إغلاق"})}),e.jsx(L,{loading:D,children:(h==null?void 0:h.submit)||"إرسال"})]})]})]})})]})};export{z as default};

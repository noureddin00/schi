import{j as e,e as j,D as c,c7 as b,T as v,bH as D,c8 as k}from"./vendor-CSmzIpnM.js";import{D as N}from"./data-sort-modal-feTc6whY.js";import{D as f}from"./delete-modal-CuMgUHd_.js";import{B as i}from"./button-CPCtH35G.js";import{C as l}from"./card-BuTjYYDH.js";import{S as y}from"./separator-B2AMQVdU.js";import{u as S}from"./use-auth-C5kNHbxP.js";import{D as I}from"./layout-DGGjirw4.js";import w from"./category-child-form-DCec3nbF.js";import _ from"./category-form-CnMxtrmt.js";import"./utils-fgVZ67ei.js";import"./dialog-BWowll2R.js";import"./scroll-area-IRPV99xu.js";import"./index-BSu11NtU.js";import"./sidebar-CO2D-YAa.js";import"./sheet-BOhT4LB6.js";import"./tooltip-CEl36Rz7.js";import"./main-BdtTlvwk.js";import"./index-C3-Y1HVF.js";import"./appearance-KZxM_-1U.js";import"./dropdown-menu-CNWlVopi.js";import"./app-qniNBdfm.js";import"./language-DhGSutnR.js";import"./notification-DJdMnjgY.js";import"./popover-CSOpa4EW.js";import"./app-logo-D49LyJmG.js";import"./accordion-Hy9y6Hww.js";import"./route-B4ZMN77y.js";import"./avatar-Bj9oGIXO.js";import"./use-lang-D5QbSlJz.js";import"./icon-picker-ANn6dCi6.js";import"./debounce-CWHP_ANh.js";import"./label-aM7LSFRq.js";import"./input-error-DFZPMsrM.js";import"./loading-button-CjOdg6Ro.js";import"./input-CXffHHHp.js";import"./select-OeQ7gBvr.js";import"./textarea-DudM8zfq.js";import"./inertia-SZXqLvQm.js";const P=n=>{const{isAdmin:h}=S(),{categories:d,lastPosition:x,lastChildPosition:u,translate:C}=n,{button:m,frontend:p,dashboard:t}=C,r=d.find(s=>s.slug==="default"),z=d.filter(s=>s.slug!=="default");return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(_,{title:t.add_category,handler:e.jsx(i,{children:t.add_category}),lastPosition:x}),e.jsx(N,{title:t.sort_categories,data:d,handler:e.jsx(i,{variant:"ghost",className:"bg-muted hover:bg-muted-foreground/6",children:m.sort_categories}),onOrderChange:(s,o)=>{j.post(route("categories.sort"),{sortedData:s},{preserveScroll:!0,onSuccess:()=>o&&o(!1)})},renderContent:s=>e.jsx(l,{className:"w-full px-4 py-3",children:e.jsx("p",{children:s.title})})})]}),d.length>0?e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 border-t border-gray-300 py-6 md:grid-cols-2 lg:grid-cols-4",children:[r&&e.jsxs(l,{className:"relative overflow-hidden p-6",children:[r.thumbnail&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-sm",style:{backgroundImage:`url(${r.thumbnail})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/95 via-background/90 to-background/80"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[r.thumbnail?e.jsx("img",{src:r.thumbnail,alt:r.title,className:"h-12 w-12 rounded-lg object-cover shadow-sm"}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(c,{size:24,name:r.icon,className:"text-primary"})}),e.jsx("h2",{className:"font-semibold",children:r.title})]}),e.jsx(y,{className:"my-4"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:t.protected_category}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.default_category_description})]})]})]},r.id),z.map(s=>{var o;return e.jsxs(l,{className:"relative overflow-hidden p-6",children:[s.thumbnail&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-sm",style:{backgroundImage:`url(${s.thumbnail})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/95 via-background/90 to-background/80"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"relative text-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.thumbnail?e.jsx("img",{src:s.thumbnail,alt:s.title,className:"h-12 w-12 rounded-lg object-cover shadow-sm"}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(c,{size:24,name:s.icon,className:"text-primary"})}),e.jsx("h2",{className:"font-semibold",children:s.title})]}),e.jsxs("div",{className:"absolute -top-1 right-0 space-x-1",children:[e.jsx(_,{title:t.update_category,category:s,lastPosition:x,handler:e.jsx(i,{size:"icon",variant:"ghost",className:"bg-muted hover:bg-muted-foreground/10 h-8 w-8 rounded-full p-0",children:e.jsx(b,{className:"text-sm"})})}),h&&e.jsx(f,{message:p.delete_warning,routePath:route("categories.destroy",s.id),actionComponent:e.jsx(i,{size:"icon",variant:"ghost",className:"bg-destructive/8 hover:bg-destructive/6 h-8 w-8 rounded-full p-0",children:e.jsx(v,{className:"text-destructive text-sm"})})})]})]}),e.jsx(y,{className:"my-4"}),e.jsxs("div",{className:"space-y-3",children:[(o=s.category_children)==null?void 0:o.map(a=>e.jsxs("div",{className:"border-border relative rounded-md border px-2 py-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{size:16,name:a.icon}),e.jsx("p",{children:a.title})]}),e.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-1",children:[e.jsx(w,{categoryChild:a,categoryId:Number(s.id),title:t.update_category,handler:e.jsx(i,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(b,{className:"text-sm"})}),lastChildPosition:u}),h&&e.jsx("div",{children:e.jsx(f,{message:p.delete_warning,routePath:route("category-child.destroy",a.id),actionComponent:e.jsx(i,{size:"icon",variant:"ghost",className:"hover:bg-destructive/6 h-8 w-8",children:e.jsx(v,{className:"text-destructive text-sm"})})})})]})]},a.id)),e.jsxs("div",{className:"flex items-center justify-baseline gap-3",children:[e.jsx(w,{categoryId:Number(s.id),title:t.add_new_category,handler:e.jsxs(i,{size:"sm",variant:"ghost",className:"bg-muted hover:!bg-muted-foreground/10 w-full",children:[e.jsx(D,{className:"text-sm"}),e.jsx("span",{children:m.create})]}),lastChildPosition:u}),e.jsx(N,{title:m.sort_categories,data:s.category_children||[],handler:e.jsxs(i,{size:"sm",variant:"ghost",className:"bg-muted hover:!bg-muted-foreground/10 w-full",children:[e.jsx(k,{className:"text-sm"}),e.jsx("span",{children:m.sort})]}),onOrderChange:(a,g)=>{j.post(route("category-child.sort"),{sortedData:a},{preserveScroll:!0,onSuccess:()=>g&&g(!1)})},renderContent:a=>e.jsx(l,{className:"w-full px-4 py-3",children:e.jsx("p",{children:a.title})})})]})]})]})]},s.id)})]}):e.jsx(l,{className:"mt-6 border-t border-gray-300 p-6",children:e.jsx("h2",{className:"text-center",children:t.no_results})})]})};P.layout=n=>e.jsx(I,{children:n});export{P as default};

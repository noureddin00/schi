import{u as z,j as e,L,C as h,k as A,q as p,s as u,e as P}from"./vendor-CSmzIpnM.js";import{L as k}from"./live-class-status-lh6fj-uo.js";import{T as F}from"./tabs-eSkb49dj.js";import{A as j,a as f,b as g,c as N}from"./accordion-Hy9y6Hww.js";import{B as i}from"./button-CPCtH35G.js";import{a as H,C as v}from"./card-BuTjYYDH.js";import{P as I}from"./progress-CHuUQ63t.js";import{S as q}from"./scroll-area-IRPV99xu.js";import{S as B}from"./separator-B2AMQVdU.js";import{T as V,a as _,b as y}from"./tabs-1pusNlky.js";import{e as E}from"./richtor-C9479olP.js";import O from"./lesson-KjS_tPV_.js";import Q from"./quiz-DM-0T8NL.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";import"./lesson-icons-HEZGvRR-.js";const te=({completedContents:n,courseCompletion:r})=>{const{props:l}=z(),{course:c,zoomConfig:b,section:d,watchHistory:a,translate:w}=l,{button:o,common:C}=w,m=c.live_classes||[],x=l.course.sections[l.course.sections.length-1];a.current_watching_type==="lesson"?x.section_lessons.find(s=>s.id.toString()===a.current_watching_id):x.section_quizzes.find(s=>s.id.toString()===a.current_watching_id);const S=()=>{P.get(route("course.player.finish",{watch_history:a.id}))};return e.jsx("div",{className:"relative h-full md:h-[calc(100vh-60px)]",children:e.jsxs(F,{defaultValue:"lessons",className:"w-full",children:[e.jsxs(V,{className:"h-12 w-full",children:[e.jsx(_,{value:"lessons",className:"h-10 w-full cursor-pointer",children:o.lessons}),e.jsx(_,{value:"live-classes",className:"h-10 w-full cursor-pointer",children:o.live_classes})]}),e.jsxs(q,{className:"h-[calc(100vh-48px)] md:h-[calc(100vh-108px)]",children:[e.jsxs(y,{value:"lessons",className:"mt-0",children:[e.jsx(H,{className:"px-4 py-6 text-center",children:e.jsxs("div",{className:"w-full space-y-1",children:[e.jsxs("p",{className:"text-muted-foreground flex items-center text-xs font-medium",children:[e.jsxs("span",{children:[r.percentage,"%"]}),e.jsxs("span",{children:[C.completed," ",r.completedContents,"/",r.totalContents]})]}),e.jsx(I,{value:Number(r.percentage),className:"[&>div]:bg-secondary-foreground h-1"})]})}),e.jsx(B,{}),d?e.jsxs(j,{type:"single",collapsible:!0,className:"space-y-4 px-4 py-6",defaultValue:d.id,children:[l.course.sections.map((s,T)=>e.jsxs(f,{value:s.id,className:"overflow-hidden rounded-lg border",children:[e.jsxs(g,{className:"[&[data-state=open]]:!bg-muted px-4 py-3 text-base hover:no-underline",children:[T+1,". ",s.title]}),e.jsx(N,{className:"space-y-2 p-2",children:s.section_lessons.length>0?e.jsxs(e.Fragment,{children:[s.section_lessons.map(t=>e.jsx(O,{lesson:t,completed:n},t.id)),s.section_quizzes.map(t=>e.jsx(Q,{quiz:t,completed:n},t.id))]}):e.jsx("div",{className:"px-4 py-3 text-center",children:e.jsx("p",{children:"There is no lesson added"})})})]},s.id)),a.completion_date?e.jsx("div",{children:e.jsx(L,{href:route("student.course.show",{id:c.id,tab:"certificate"}),children:e.jsx(i,{className:"w-full",variant:"secondary",size:"lg",disabled:r.percentage!=="100.00",children:"Course Certificate"})})}):e.jsx("div",{children:a.next_watching_id?e.jsx(i,{className:"w-full",variant:"secondary",size:"lg",disabled:!0,children:"Finish Course"}):e.jsx(i,{className:"w-full",variant:"secondary",size:"lg",onClick:S,children:"Finish Course"})})]}):e.jsx("div",{className:"p-6 text-center",children:e.jsx("p",{children:"There is no section added"})})]}),e.jsx(y,{value:"live-classes",className:"mt-0",children:e.jsx("div",{className:"space-y-4 p-4",children:m.length<=0?e.jsxs(v,{className:"p-8 text-center",children:[e.jsx(h,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"No Live Classes Scheduled"}),e.jsx("p",{className:"text-gray-500",children:"Schedule your first live class to get started with Zoom."})]}):m.map(s=>e.jsxs(v,{className:"space-y-4 p-4",children:[e.jsx("p",{className:"text-base font-medium",children:s.class_topic}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"text-muted-foreground space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:p(u(s.class_date_and_time),"p")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:p(u(s.class_date_and_time),"PPP")})]})]}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(k,{courseId:c.id,liveClass:s,zoomConfig:b})})]}),s.class_note&&e.jsx(j,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(f,{value:"item-1",className:"bg-muted overflow-hidden rounded-lg border-none",children:[e.jsx(g,{className:"[&[data-state=open]]:!bg-secondary-lighter px-3 py-1.5 text-sm font-normal hover:no-underline",children:"Class Note"}),e.jsx(N,{className:"p-3",children:e.jsx(E,{value:s.class_note})})]})})]},s.id))})})]})]})})};export{te as default};

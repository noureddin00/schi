import{u as h,r as j,j as e}from"./vendor-CVklK8n9.js";import{I as l}from"./input-error-ucpTTRPI.js";import{I as m}from"./input-Bw-r9Otv.js";import{L as r}from"./label-BlcvhkRY.js";import{R as d,a as o}from"./radio-group-urbujFiV.js";import{o as p}from"./inertia-SZXqLvQm.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const C=({data:i,setData:n,errors:c})=>{const{props:a}=h(),{translate:x}=a,{dashboard:t}=x;return j.useEffect(()=>{if(i.price&&i.discount){const s=i.price*i.discount/100,u=i.price-s;n("discount_price",u.toFixed(2))}else n("discount_price",i.price||0)},[i.price,i.discount]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:t.pricing_type_required}),e.jsxs(d,{value:i.pricing_type,onValueChange:s=>n("pricing_type",s),className:"flex items-center space-x-4 pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{value:"free",id:"free"}),e.jsx(r,{htmlFor:"free",className:"cursor-pointer font-normal",children:"Free"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{value:"paid",id:"paid"}),e.jsx(r,{htmlFor:"paid",className:"cursor-pointer font-normal",children:"Paid"})]})]}),e.jsx(l,{message:c.pricing_type})]}),i.pricing_type==="paid"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"price",children:"Price (USD) *"}),e.jsx(m,{id:"price",name:"price",type:"number",value:i.price,onChange:s=>p(s,n),placeholder:"0.00",step:"0.01",min:"0",required:!0}),e.jsx(l,{message:c.price})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"discount",children:"Discount (%)"}),e.jsx(m,{id:"discount",name:"discount",type:"number",value:i.discount,onChange:s=>p(s,n),placeholder:"0",min:"0",max:"100"}),e.jsx(l,{message:c.discount})]}),i.discount>0&&e.jsx("div",{className:"rounded-lg bg-green-50 p-4",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("span",{className:"font-semibold",children:"Final Price:"})," $",i.discount_price," (",i.discount,"% off from $",i.price,")"]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(r,{children:"Access Duration *"}),e.jsxs(d,{value:i.expiry_type||"lifetime",onValueChange:s=>n("expiry_type",s),className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{value:"lifetime",id:"lifetime"}),e.jsx(r,{htmlFor:"lifetime",className:"cursor-pointer font-normal",children:t.lifetime})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{value:"limited",id:"limited"}),e.jsx(r,{htmlFor:"limited",className:"cursor-pointer font-normal",children:t.limited_time})]})]}),e.jsx(l,{message:c.expiry_type})]}),i.expiry_type==="limited"&&e.jsxs("div",{children:[e.jsx(r,{htmlFor:"expiry_duration",children:"Access Duration (Days) *"}),e.jsx(m,{id:"expiry_duration",name:"expiry_duration",type:"number",value:i.expiry_duration,onChange:s=>p(s,n),placeholder:"30",min:"1",required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Students will have access for this many days after enrollment"}),e.jsx(l,{message:c.expiry_duration})]})]})};export{C as default};

import{u as C,b as D,j as e}from"./vendor-CSmzIpnM.js";import{D as I}from"./datetime-picker-DtFyQxDF.js";import{I as a}from"./input-error-DFZPMsrM.js";import{L as k}from"./loading-button-CjOdg6Ro.js";import{A as o,a as m,c as x}from"./accordion-Hy9y6Hww.js";import{C as A}from"./card-BuTjYYDH.js";import{C as F}from"./checkbox-VurnA67S.js";import{I as u}from"./input-CXffHHHp.js";import{L as c}from"./label-aM7LSFRq.js";import{R as d,a as j}from"./radio-group-DaFaWsux.js";import"./button-CPCtH35G.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./popover-CSOpa4EW.js";import"./select-OeQ7gBvr.js";import"./use-lang-D5QbSlJz.js";const O=()=>{const{props:_}=C(),{tab:g,exam:t,translate:y}=_,{dashboard:i,button:l}=y||{},{data:r,setData:n,post:f,errors:p,processing:h}=D({tab:g,pricing_type:t.pricing_type||"paid",price:t.price||"",discount:!!t.discount||!1,discount_price:t.discount_price||"",expiry_type:t.expiry_type||"",expiry_duration:t.expiry_duration?new Date(t.expiry_duration):new Date}),v=s=>{s.preventDefault(),f(route("exams.update",{exam:t.id}))},N=["free","paid"];return e.jsx(A,{className:"container p-4 sm:p-6",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs(o,{collapsible:!0,type:"single",value:r.pricing_type,children:[e.jsxs("div",{children:[e.jsx(c,{children:(i==null?void 0:i.pricing_type_required)||"نوع التسعير *"}),e.jsx(d,{defaultValue:r.pricing_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:s=>n("pricing_type",s),children:N.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"cursor-pointer",id:s,value:s}),e.jsx(c,{htmlFor:s,className:"cursor-pointer capitalize",children:s==="free"?(i==null?void 0:i.free)||"مجاني":(i==null?void 0:i.paid)||"مدفوع"})]},s))}),e.jsx(a,{message:p.pricing_type})]}),e.jsx(m,{value:"paid",className:"border-none",children:e.jsxs(x,{className:"space-y-4 p-0.5",children:[e.jsxs("div",{className:"pt-3",children:[e.jsxs(c,{children:[(i==null?void 0:i.price)||"السعر"," *"]}),e.jsx(u,{type:"number",name:"price",value:r.price.toString(),onChange:s=>n("price",s.target.value),placeholder:(i==null?void 0:i.enter_course_price)||"أدخل سعر الاختبار"}),e.jsx(a,{message:p.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"discount",name:"discount",checked:r.discount,onCheckedChange:s=>{n("discount",s===!0)}}),e.jsx(c,{htmlFor:"discount",className:"cursor-pointer",children:(i==null?void 0:i.check_course_discount)||"تطبيق خصم"})]}),r.discount&&e.jsxs("div",{children:[e.jsx(u,{type:"number",name:"discount_price",value:r.discount_price.toString(),onChange:s=>n("discount_price",s.target.value),placeholder:(i==null?void 0:i.enter_discount_price)||"أدخل سعر الخصم"}),e.jsx(a,{message:p.discount_price})]})]})]})})]}),e.jsxs(o,{collapsible:!0,type:"single",value:r.expiry_type,children:[e.jsxs("div",{children:[e.jsx(c,{children:(i==null?void 0:i.expiry_period_type)||"نوع فترة الانتهاء"}),e.jsx(d,{defaultValue:r.expiry_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:s=>n("expiry_type",s),children:["lifetime","limited_time"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"cursor-pointer",id:s,value:s}),e.jsx(c,{htmlFor:s,className:"capitalize",children:s==="lifetime"?(i==null?void 0:i.lifetime)||"مدى الحياة":(i==null?void 0:i.limited_time)||"وقت محدود"})]},s))}),e.jsx(a,{message:p.expiry_type})]}),e.jsx(m,{value:"limited_time",className:"border-none",children:e.jsx(x,{className:"space-y-4 p-0.5",children:e.jsxs("div",{className:"pt-3",children:[e.jsx(c,{children:(i==null?void 0:i.expiry_date)||"تاريخ الانتهاء"}),e.jsx(I,{date:r.expiry_duration,setDate:s=>n("expiry_duration",s)}),e.jsx(a,{message:p.expiry_duration})]})})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(k,{loading:h,children:(l==null?void 0:l.save_changes)||"حفظ التغييرات"})})]})})};export{O as default};

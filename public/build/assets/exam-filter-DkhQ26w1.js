import{u as P,r as z,j as e,e as C,ap as f,L as i}from"./vendor-BBDGfIfP.js";import{C as o}from"./checkbox-DFVJwr6m.js";import{C as j,a as N,b}from"./collapsible-qY9CFfL8.js";import{I as E}from"./input-Dldj9DiJ.js";import{g as I}from"./route-B4ZMN77y.js";import"./utils-fgVZ67ei.js";const q=({setOpen:c})=>{const v=P(),r=I(v.url),{levels:y,prices:k,categories:w,category:l,categoryChild:a,translate:_}=v.props,{frontend:p,common:x}=_,[m,F]=z.useState({categories:!0,price:!0,level:!0}),t=(s,n,u)=>{const h={...r};return"search"in h&&delete h.search,route("category.exams",{category:n,category_child:u,...h,...s})},d=s=>{F(n=>({...n,[s]:!n[s]}))};return e.jsxs("div",{className:"exam-filter-container space-y-1",children:[e.jsx("div",{className:"mb-4",children:e.jsx(E,{type:"text",placeholder:p.search_exams||"Search...",className:"h-10",onChange:s=>{const n=s.target.value;(n.length>2||n.length===0)&&C.get(route("category.exams",{category:"all",search:n}))}})}),e.jsxs(j,{open:m.categories,onOpenChange:()=>d("categories"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-2 hover:bg-accent",children:[e.jsx("h3",{className:"font-semibold",children:x.categories}),e.jsx(f,{className:`h-4 w-4 transition-transform duration-200 ${m.categories?"rotate-180":""}`})]}),e.jsxs(b,{className:"space-y-2 pt-2",children:[e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 hover:bg-accent",href:t({},"all"),children:[e.jsx(o,{checked:!l||l.slug==="all"}),e.jsx("label",{className:"cursor-pointer text-sm",children:p.all})]}),w.map((s,n)=>{var h;const u=`category${n}`;return s.slug==="default"?null:e.jsxs("div",{className:"capitalize",children:[e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 hover:bg-accent",href:t({},s.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:(l==null?void 0:l.slug)===s.slug&&!a}),e.jsx("label",{className:"cursor-pointer text-sm",children:s.title})]}),(h=s.category_children)==null?void 0:h.map((g,S)=>{const $=`category_child${S}`;return e.jsxs(i,{className:"flex items-center gap-2 rounded-md py-2 pl-8 pr-3 hover:bg-accent",href:t({},s.slug,g.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:(a==null?void 0:a.slug)===g.slug}),e.jsx("label",{className:"cursor-pointer text-sm",children:g.title})]},$)})]},u)})]})]}),e.jsxs(j,{open:m.price,onOpenChange:()=>d("price"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-2 hover:bg-accent",children:[e.jsx("h3",{className:"font-semibold",children:x.price}),e.jsx(f,{className:`h-4 w-4 transition-transform duration-200 ${m.price?"rotate-180":""}`})]}),e.jsxs(b,{className:"space-y-2 pt-2",children:[e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 hover:bg-accent",href:t({pricing_type:"all"},(l==null?void 0:l.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:!r.pricing_type||r.pricing_type==="all"}),e.jsx("label",{className:"cursor-pointer text-sm",children:p.all})]}),k.map(s=>e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 capitalize hover:bg-accent",href:t({pricing_type:s},(l==null?void 0:l.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:r.pricing_type===s}),e.jsx("label",{className:"cursor-pointer text-sm",children:s})]},s))]})]}),e.jsxs(j,{open:m.level,onOpenChange:()=>d("level"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-2 hover:bg-accent",children:[e.jsx("h3",{className:"font-semibold",children:x.level}),e.jsx(f,{className:`h-4 w-4 transition-transform duration-200 ${m.level?"rotate-180":""}`})]}),e.jsxs(b,{className:"space-y-2 pt-2",children:[e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 hover:bg-accent",href:t({level:"all"},(l==null?void 0:l.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:!r.level||r.level==="all"}),e.jsx("label",{className:"cursor-pointer text-sm",children:p.all})]}),y.map(s=>e.jsxs(i,{className:"flex items-center gap-2 rounded-md px-3 py-2 capitalize hover:bg-accent",href:t({level:s},(l==null?void 0:l.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!r.search&&c&&c(!1),children:[e.jsx(o,{checked:r.level===s}),e.jsx("label",{className:"cursor-pointer text-sm",children:s})]},s))]})]})]})};export{q as default};

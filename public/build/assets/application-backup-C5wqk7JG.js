import{u as h,b as d,j as e,v as l,da as _}from"./vendor-BBDGfIfP.js";import{I as f}from"./input-error-DzlB5Qkt.js";import{L as p}from"./loading-button-BLSSbYXc.js";import{C as j}from"./card-XBn4TxoT.js";import"./utils-fgVZ67ei.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";const B=()=>{const{props:c}=h(),r=(c==null?void 0:c.translate)||{},s=(r==null?void 0:r.settings)||{},a={application_backup:s.application_backup||"Application Backup",create_complete_backup:s.create_complete_backup||"Create a complete backup of your application including files and database",what_will_be_backed_up:s.what_will_be_backed_up||"What will be backed up?",source_code:s.source_code||"Source Code",source_code_desc:s.source_code_desc||"All application files and code",database:s.database||"Database",database_desc:s.database_desc||"Complete MySQL database dump",configuration:s.configuration||"Configuration",configuration_desc:s.configuration_desc||"Environment and config files",assets:s.assets||"Assets",assets_desc:s.assets_desc||"Uploaded media and public files",note:s.note||"Note:",refresh_before_backup:s.refresh_before_backup||"Every time refresh server before backup.",refresh_server:s.refresh_server||"Refresh Server",create_backup:s.create_backup||"Create Backup",creating_backup:s.creating_backup||"Creating Backup..."},{post:m,errors:t,processing:i}=d({}),o=d({}),u=()=>{o.post(route("system.refresh"))},b=n=>{n.preventDefault(),m(route("system.backup"))};return e.jsx(e.Fragment,{children:e.jsxs(j,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[e.jsx(l,{className:"h-5 w-5"}),a.application_backup]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:a.create_complete_backup})]}),e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"dark:bg-secondary dark:border-border rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(l,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:a.what_will_be_backed_up}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsxs("ul",{className:"list-inside list-disc space-y-1",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:[a.source_code,":"]})," ",a.source_code_desc]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.database,":"]})," ",a.database_desc]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.configuration,":"]})," ",a.configuration_desc]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.assets,":"]})," ",a.assets_desc]})]})}),e.jsx("div",{className:"mt-3 text-xs text-blue-600",children:e.jsxs("p",{children:[e.jsx("strong",{children:a.note})," ",a.refresh_before_backup]})})]})]})}),t&&Object.keys(t).length>0&&e.jsx("div",{className:"space-y-1",children:Object.entries(t).map(([n,x])=>e.jsx(f,{message:String(x)},n))}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[e.jsx(p,{type:"button",variant:"secondary",onClick:u,loading:o.processing,disabled:i,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{children:a.refresh_server})]})}),e.jsx(p,{type:"submit",loading:i,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{children:i?a.creating_backup:a.create_backup})]})})]})]})})]})})};export{B as default};

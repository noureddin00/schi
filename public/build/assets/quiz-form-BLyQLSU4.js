import{r as N,u as S,b as F,j as e}from"./vendor-BBDGfIfP.js";import{I as n}from"./input-error-DzlB5Qkt.js";import{L as H}from"./loading-button-BLSSbYXc.js";import{B as I}from"./button-BxbUMaK9.js";import{D as L,a as T,b as B,c as E,d as M,e as O,f as A}from"./dialog-Ao4xhLhR.js";import{I as m}from"./input-Dldj9DiJ.js";import{L as l}from"./label-DUVUvbLf.js";import{S as P}from"./scroll-area-Dmjd_gyP.js";import{o as d}from"./inertia-SZXqLvQm.js";import{k as Q}from"./richtor-QjVY_KZS.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const q=({title:u,quiz:s,handler:g,sectionId:_})=>{const[f,p]=N.useState(!1),{props:h}=S(),{translate:k}=h,{dashboard:c,input:i,button:x}=k,{data:a,setData:t,post:v,put:y,reset:j,errors:o,processing:b}=F({title:(s==null?void 0:s.title)||"",course_section_id:_,course_id:h.course.id,total_mark:(s==null?void 0:s.total_mark)||"",pass_mark:(s==null?void 0:s.pass_mark)||"",retake:(s==null?void 0:s.retake)||1,summary:(s==null?void 0:s.summary)||"",hours:(s==null?void 0:s.hours)||"",minutes:(s==null?void 0:s.minutes)||"",seconds:(s==null?void 0:s.seconds)||""}),C=r=>{r.preventDefault(),s?y(route("quiz.update",s.id),{onSuccess:()=>{j(),p(!1)}}):v(route("quiz.store"),{onSuccess:()=>{j(),p(!1)}})};return e.jsxs(L,{open:f,onOpenChange:p,children:[e.jsx(T,{children:g}),e.jsx(B,{className:"p-0",children:e.jsxs(P,{className:"max-h-[90vh] p-6",children:[e.jsx(E,{className:"mb-6",children:e.jsx(M,{children:u})}),e.jsxs("form",{onSubmit:C,className:"space-y-4 p-0.5",children:[e.jsxs("div",{children:[e.jsx(l,{children:i.title}),e.jsx(m,{required:!0,type:"text",name:"title",value:a.title,placeholder:i.quiz_title_placeholder,onChange:r=>d(r,t)}),e.jsx(n,{message:o.title})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:c.hours}),e.jsx(m,{required:!0,type:"number",name:"hours",value:a.hours,placeholder:i.hours_placeholder,onChange:r=>d(r,t)}),e.jsx(n,{message:o.hours})]}),e.jsxs("div",{children:[e.jsx(l,{children:c.minutes}),e.jsx(m,{required:!0,type:"number",name:"minutes",value:a.minutes,placeholder:i.minutes_placeholder,onChange:r=>d(r,t)}),e.jsx(n,{message:o.minutes})]}),e.jsxs("div",{children:[e.jsx(l,{children:c.seconds}),e.jsx(m,{required:!0,type:"number",name:"seconds",value:a.seconds,placeholder:i.seconds_placeholder,onChange:r=>d(r,t)}),e.jsx(n,{message:o.seconds})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:c.total_mark}),e.jsx(m,{required:!0,type:"number",name:"total_mark",value:a.total_mark,onChange:r=>d(r,t)}),e.jsx(n,{message:o.total_mark})]}),e.jsxs("div",{children:[e.jsx(l,{children:c.pass_mark}),e.jsx(m,{required:!0,type:"number",name:"pass_mark",value:a.pass_mark,onChange:r=>d(r,t)}),e.jsx(n,{message:o.pass_mark})]}),e.jsxs("div",{children:[e.jsx(l,{children:i.retake_attempts}),e.jsx(m,{min:"1",required:!0,type:"number",name:"retake",value:a.retake,placeholder:"00",onChange:r=>d(r,t)}),e.jsx(n,{message:o.retake})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"summary",children:c.quiz_summary}),e.jsx(Q,{ssr:!0,output:"html",placeholder:{paragraph:"Type your content here...",imageCaption:"Type caption for image (optional)"},contentMinHeight:256,contentMaxHeight:640,initialContent:a.summary,onContentChange:r=>t(D=>({...D,summary:r}))}),e.jsx(n,{message:o.summary})]}),e.jsxs(O,{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(A,{asChild:!0,children:e.jsx(I,{type:"button",variant:"outline",children:x.close})}),e.jsx(H,{loading:b,children:x.submit})]})]})]})})]})};export{q as default};

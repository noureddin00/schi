import{j as s,bh as f,cB as v,H as y,L as m,bU as b,x as w,bg as _,A as S,cC as A,q as N,s as u,ba as k,c0 as C,C as M}from"./vendor-BBDGfIfP.js";import{C as r,b as c,a as n,c as d}from"./card-XBn4TxoT.js";import{c as g}from"./utils-fgVZ67ei.js";import{B as j}from"./badge-CuP0AKCr.js";import{B as o}from"./button-BxbUMaK9.js";import{S as p}from"./separator-CHdmUWH0.js";import{D as E}from"./layout-BBlIXWmN.js";import"./index-BSu11NtU.js";import"./sidebar-BIOzr87F.js";import"./sheet-wkcDRUUF.js";import"./tooltip-CsicHBaL.js";import"./main-BfH_Euhm.js";import"./index-G4n3qM_p.js";import"./appearance-CsMGVb1o.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./app-BMrU7ynK.js";import"./language-plqgqSJb.js";import"./notification-DhXMcL3J.js";import"./popover-CmHxiVMc.js";import"./scroll-area-Dmjd_gyP.js";import"./app-logo-BJTT6-Cm.js";import"./accordion-DAQp0Avn.js";import"./route-B4ZMN77y.js";import"./avatar-lYJ9pRpJ.js";import"./use-lang-B9LAL-fo.js";const h=({icon:e,label:a,value:x,trend:i,className:t})=>s.jsx(r,{className:g(t),children:s.jsx(c,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-primary/10 flex h-12 w-12 items-center justify-center rounded-lg",children:s.jsx(e,{className:"text-primary h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]}),i&&s.jsxs("div",{className:g("flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium",i.isPositive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[i.isPositive?s.jsx(f,{className:"h-3 w-3"}):s.jsx(v,{className:"h-3 w-3"}),Math.abs(i.value),"%"]})]})})}),ts=({exam:e,stats:a})=>{const x=e.enrollments.slice(0,5),i=e.attempts.slice(0,5);return s.jsxs(E,{children:[s.jsx(y,{title:e.title}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(m,{href:route("exams.index"),children:s.jsxs(o,{variant:"outline",size:"sm",children:[s.jsx(b,{className:"mr-2 h-4 w-4"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"mt-1 text-gray-600",children:e.exam_category.title})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(m,{href:route("exams.edit",e.id),children:s.jsxs(o,{size:"sm",children:[s.jsx(w,{className:"mr-2 h-4 w-4"}),"Edit"]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(h,{icon:_,label:"Total Enrollments",value:a.total_enrollments.toString()}),s.jsx(h,{icon:f,label:"Active Students",value:a.active_enrollments.toString()}),s.jsx(h,{icon:S,label:"Pass Rate",value:`${a.pass_rate.toFixed(1)}%`}),s.jsx(h,{icon:A,label:"Revenue",value:`$${a.total_revenue.toFixed(2)}`})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{children:"Exam Details"})}),s.jsx(c,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx(j,{variant:e.status==="published"?"default":e.status==="draft"?"secondary":"outline",children:e.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pricing"}),s.jsx("p",{className:"font-semibold",children:e.pricing_type==="free"?"Free":`$${e.discount_price||e.price}`})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Questions"}),s.jsx("p",{className:"font-semibold",children:e.total_questions})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsx("p",{className:"font-semibold",children:e.total_marks})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsxs("p",{className:"font-semibold",children:[e.duration_hours>0&&`${e.duration_hours}h `,e.duration_minutes>0&&`${e.duration_minutes}m`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pass Mark"}),s.jsx("p",{className:"font-semibold",children:e.pass_mark})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Max Attempts"}),s.jsx("p",{className:"font-semibold",children:e.max_attempts})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Level"}),s.jsx("p",{className:"font-semibold",children:e.level||"Not set"})]})]})})]}),s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{children:"Performance Analytics"})}),s.jsx(c,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Attempts"}),s.jsx("span",{className:"font-semibold",children:a.total_attempts})]}),s.jsx(p,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed Attempts"}),s.jsx("span",{className:"font-semibold",children:a.completed_attempts})]}),s.jsx(p,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),s.jsxs("span",{className:"font-semibold",children:[a.average_score.toFixed(1),"%"]})]}),s.jsx(p,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pass Rate"}),s.jsxs(j,{variant:a.pass_rate>=70?"default":"destructive",children:[a.pass_rate.toFixed(1),"%"]})]})]})})]}),s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{children:"Recent Attempts"})}),s.jsx(c,{children:i.length>0?s.jsx("div",{className:"space-y-3",children:i.map(t=>{var l;return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:(l=t.user)==null?void 0:l.name}),s.jsx("p",{className:"text-sm text-gray-600",children:N(u(t.start_time),"MMM dd, yyyy HH:mm")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(j,{variant:t.status==="completed"?"default":t.status==="abandoned"?"destructive":"secondary",children:t.status}),s.jsxs("p",{className:"mt-1 text-sm font-semibold",children:[t.obtained_marks,"/",t.total_marks]})]})]},t.id)})}):s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No attempts yet"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{className:"text-base",children:"Quick Actions"})}),s.jsxs(c,{className:"space-y-2",children:[s.jsx(m,{href:route("student.exams.show",e.slug),target:"_blank",children:s.jsxs(o,{variant:"outline",className:"w-full justify-start",children:[s.jsx(k,{className:"mr-2 h-4 w-4"}),"View as Student"]})}),s.jsx(m,{href:route("exams.questions.index",e.id),children:s.jsxs(o,{variant:"outline",className:"w-full justify-start",children:[s.jsx(C,{className:"mr-2 h-4 w-4"}),"Manage Questions"]})})]})]}),s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{className:"text-base",children:"Recent Enrollments"})}),s.jsx(c,{children:x.length>0?s.jsx("div",{className:"space-y-3",children:x.map(t=>{var l;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(M,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold",children:(l=t.user)==null?void 0:l.name}),s.jsx("p",{className:"text-xs text-gray-600",children:N(u(t.entry_date),"MMM dd, yyyy")})]})]},t.id)})}):s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No enrollments yet"})})]}),e.reviews.length>0&&s.jsxs(r,{children:[s.jsx(n,{children:s.jsx(d,{className:"text-base",children:"Reviews"})}),s.jsx(c,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold",children:(e.reviews.reduce((t,l)=>t+l.rating,0)/e.reviews.length).toFixed(1)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.reviews.length," reviews"]})]})})]})]})]})]})]})};export{ts as default};

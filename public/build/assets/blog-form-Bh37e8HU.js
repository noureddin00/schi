import{u as W,r as S,b as X,j as e,F as L,bB as I,bf as Y,L as Z,bV as ee}from"./vendor-CVklK8n9.js";import{C as se}from"./combobox-CsEzPYl7.js";import{I as d}from"./input-error-ucpTTRPI.js";import{B as V}from"./button-DQg8E2h7.js";import{C as p,a as g,c as b,d as _,b as f}from"./card-D6iTMsWZ.js";import{I as h}from"./input-Bw-r9Otv.js";import{L as n}from"./label-BlcvhkRY.js";import{S as te,a as ae,b as re,c as le,d as ie}from"./select-DAGKYYje.js";import{c as B,T as H,a as v,b as y}from"./tabs-CHxITg63.js";import{T as ne}from"./textarea-DHrC07nl.js";import{o as D}from"./inertia-SZXqLvQm.js";import{k as oe}from"./richtor-DcvB5uLy.js";import"./utils-fgVZ67ei.js";import"./dialog-DvjXkL6V.js";import"./popover-D3Vvdc6w.js";import"./index-BSu11NtU.js";const Ne=()=>{var C;const{props:E}=W(),{auth:M,blog:t,categories:j,statuses:O,translate:P,langs:R}=E,{dashboard:a,input:x,button:q}=P,[z,A]=S.useState((t==null?void 0:t.banner)||"/assets/images/blank-image.jpg"),[G,J]=S.useState((t==null?void 0:t.thumbnail)||"/assets/images/blank-image.jpg"),c=(R||[]).filter(s=>!s.is_default),{data:l,setData:i,post:w,processing:K,errors:o}=X({title:t?t.title:"",slug:t?t.slug:"",description:t?t.description:"",keywords:t&&t.keywords||"",status:t?t.status:"draft",thumbnail:null,banner:null,user_id:t?t.user_id:M.user.id,blog_category_id:t?t.blog_category_id:"",translations:t?t.translations||{}:{}}),Q=s=>{s.preventDefault(),w(t?route("blogs.update",t.id):route("blogs.store"))},U=j==null?void 0:j.map(s=>({label:s.name,value:s.id}));return e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs(B,{defaultValue:"content",className:"w-full",children:[e.jsxs(H,{className:"grid w-full grid-cols-2",children:[e.jsxs(v,{value:"content",className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),a.blog_information]}),c.length>0&&e.jsxs(v,{value:"translations",className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a.translations]})]}),e.jsxs(y,{value:"content",className:"space-y-6",children:[e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),a.blog_information]}),e.jsx(_,{children:a.provide_blog_details})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",children:a.title_80_char}),e.jsx(h,{id:"title",value:l.title,onChange:s=>i("title",s.target.value),placeholder:a.enter_blog_title,maxLength:80}),e.jsx(d,{message:o.title})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"blog_category_id",children:[x.category," *"]}),e.jsx(se,{defaultValue:l.blog_category_id,data:U||[],placeholder:a.select_category,onSelect:s=>i("blog_category_id",s.value)}),e.jsx(d,{message:o.blog_category_id})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"status",children:[x.status," *"]}),e.jsxs(te,{value:l.status,onValueChange:s=>i("status",s),children:[e.jsx(ae,{children:e.jsx(re,{})}),e.jsx(le,{children:Object.entries(O).map(([s,m])=>e.jsx(ie,{value:s,children:m},s))})]}),e.jsx(d,{message:o.status})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"keywords",children:a.keywords_80_char}),e.jsx(h,{id:"keywords",value:l.keywords,onChange:s=>i("keywords",s.target.value),placeholder:a.enter_your_keywords,maxLength:80}),e.jsx(d,{message:o.keywords})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"description",children:[x.description," *"]}),e.jsx(oe,{ssr:!0,output:"html",placeholder:{paragraph:a.write_blog_content_here,imageCaption:a.type_caption_optional},contentMinHeight:256,contentMaxHeight:640,initialContent:l.description,onContentChange:s=>i(m=>({...m,description:s}))}),e.jsx(d,{message:o.description})]})]})]}),e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),a.media_files]}),e.jsx(_,{children:a.upload_banner_thumbnail_desc})]}),e.jsxs(f,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"banner",children:a.blog_banner}),e.jsx(h,{id:"banner",type:"file",accept:"image/*",name:"banner",onChange:s=>D(s,i,A)}),e.jsx(d,{message:o.banner}),e.jsx("div",{className:"border-border mt-3 overflow-hidden rounded-lg border-2 border-dashed",children:e.jsx("img",{src:z,alt:""})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"thumbnail",children:a.blog_thumbnail}),e.jsx(h,{id:"thumbnail",type:"file",accept:"image/*",name:"thumbnail",onChange:s=>D(s,i,J)}),e.jsx(d,{message:o.thumbnail}),e.jsx("div",{className:"border-border mt-3 overflow-hidden rounded-lg border-2 border-dashed",children:e.jsx("img",{src:G,alt:""})})]})]})]})]}),c.length>0&&e.jsx(y,{value:"translations",className:"space-y-6",children:e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),a.translate_content]}),e.jsx(_,{children:a.translate_your_content})]}),e.jsx(f,{children:e.jsxs(B,{defaultValue:(C=c[0])==null?void 0:C.code,className:"w-full",children:[e.jsx(H,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${c.length}, 1fr)`},children:c.map(s=>e.jsxs(v,{value:s.code,className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:s.flag}),s.native_name]},s.code))}),c.map(s=>{var m,N,k,T,F,$;return e.jsxs(y,{value:s.code,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:`title-${s.code}`,children:x.title}),e.jsx(h,{id:`title-${s.code}`,value:((N=(m=l.translations)==null?void 0:m[s.code])==null?void 0:N.title)||"",onChange:u=>{const r={...l.translations};r[s.code]||(r[s.code]={}),r[s.code].title=u.target.value,i("translations",r)},placeholder:`${a.enter_blog_title} (${s.native_name})`,maxLength:80,dir:s.rtl?"rtl":"ltr"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`keywords-${s.code}`,children:a.keywords}),e.jsx(h,{id:`keywords-${s.code}`,value:((T=(k=l.translations)==null?void 0:k[s.code])==null?void 0:T.keywords)||"",onChange:u=>{const r={...l.translations};r[s.code]||(r[s.code]={}),r[s.code].keywords=u.target.value,i("translations",r)},placeholder:`${a.enter_your_keywords} (${s.native_name})`,maxLength:80,dir:s.rtl?"rtl":"ltr"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`description-${s.code}`,children:x.description}),e.jsx(ne,{id:`description-${s.code}`,value:(($=(F=l.translations)==null?void 0:F[s.code])==null?void 0:$.description)||"",onChange:u=>{const r={...l.translations};r[s.code]||(r[s.code]={}),r[s.code].description=u.target.value,i("translations",r)},placeholder:`${a.write_blog_content_here} (${s.native_name})`,rows:10,dir:s.rtl?"rtl":"ltr"})]})]},s.code)})]})})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(V,{type:"button",variant:"outline",asChild:!0,children:e.jsx(Z,{href:route("blogs.index"),children:q.cancel})}),e.jsxs(V,{type:"submit",disabled:K,children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),t?a.update_blog:a.add_blog]})]})]})};export{Ne as default};

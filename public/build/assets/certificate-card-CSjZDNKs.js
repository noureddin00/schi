import{u as C,r as h,j as e,K as d,A as N,L as g,x as y,T as w,e as m}from"./vendor-BBDGfIfP.js";import{B as n}from"./button-BxbUMaK9.js";import{C as _,a as D,c as k,d as S,b as P}from"./card-XBn4TxoT.js";import{D as T,b as A,c as z,d as L}from"./dialog-Ao4xhLhR.js";import{S as B}from"./scroll-area-Dmjd_gyP.js";import E from"./certificate-preview-CW6jeAgy.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";const G=({type:x,template:a})=>{const{translate:p}=C().props,{dashboard:s,button:l,common:c}=p,r={active:(c==null?void 0:c.active)||"مفعل",created:(s==null?void 0:s.created_label)||"تم الإنشاء:",primary:(s==null?void 0:s.primary)||"أساسي",secondary:(s==null?void 0:s.secondary)||"ثانوي",activate:(s==null?void 0:s.activate)||"تفعيل",edit:(l==null?void 0:l.edit)||"تعديل",deleteConfirm:(s==null?void 0:s.delete_certificate_confirm)||"هل أنت متأكد من حذف قالب الشهادة؟",preview:(s==null?void 0:s.preview)||"معاينة",sampleStudent:(s==null?void 0:s.sample_student)||"اسم الطالب",sampleCourse:(s==null?void 0:s.sample_course)||"اسم المقرر",sampleDate:(s==null?void 0:s.sample_date)||"1 يناير 2025"},[i,o]=h.useState(null),u=t=>{m.post(route("certificate.templates.activate",t),{type:x},{preserveScroll:!0})},v=t=>{confirm(r.deleteConfirm)&&m.delete(route("certificate.templates.destroy",t),{preserveScroll:!0})},j=t=>{o(t)},f=()=>{o(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(_,{className:`relative ${a.is_active?"ring-primary ring-2":""}`,children:[a.is_active&&e.jsxs("div",{className:"bg-primary text-primary-foreground absolute top-4 right-4 rounded-full px-3 py-1 text-xs font-semibold",children:[e.jsx(d,{className:"mr-1 inline h-3 w-3"}),r.active]}),e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-5 w-5"}),a.name]}),e.jsxs(S,{children:[r.created," ",new Date(a.created_at).toLocaleDateString()]})]}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"cursor-pointer rounded-lg border-2 p-4 text-center transition-all hover:shadow-md",style:{backgroundColor:a.template_data.backgroundColor,borderColor:a.template_data.borderColor},onClick:()=>j(a),children:[e.jsx("div",{className:"mb-2 text-xs font-bold",style:{color:a.template_data.primaryColor},children:a.template_data.titleText}),e.jsx("div",{className:"text-[8px]",style:{color:a.template_data.secondaryColor},children:a.template_data.descriptionText})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded border",style:{backgroundColor:a.template_data.primaryColor}}),e.jsx("span",{className:"text-xs",children:r.primary})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded border",style:{backgroundColor:a.template_data.secondaryColor}}),e.jsx("span",{className:"text-xs",children:r.secondary})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!a.is_active&&e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>u(a.id),children:[e.jsx(d,{className:"mr-1 h-3 w-3"}),r.activate]}),e.jsx(n,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(g,{href:route("certificate.templates.edit",a.id),children:[e.jsx(y,{className:"mr-1 h-3 w-3"}),r.edit]})}),e.jsx(n,{size:"sm",variant:"destructive",onClick:()=>v(a.id),children:e.jsx(w,{className:"h-3 w-3"})})]})]})]},a.id),i&&e.jsx(T,{open:!!i,onOpenChange:t=>!t&&f(),children:e.jsx(A,{className:"w-full gap-0 overflow-y-auto p-0 sm:max-w-3xl",children:e.jsx(B,{className:"max-h-[90vh]",children:e.jsxs("div",{className:"p-6",children:[e.jsx(z,{className:"mb-6",children:e.jsxs(L,{children:[r.preview,": ",i==null?void 0:i.name]})}),e.jsx(E,{template:i,studentName:r.sampleStudent,courseName:r.sampleCourse,completionDate:r.sampleDate})]})})})})]})};export{G as default};

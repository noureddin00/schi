import{r as m,b as F,j as e}from"./vendor-CSmzIpnM.js";import{I as q}from"./icon-picker-ANn6dCi6.js";import{I as p}from"./input-error-DFZPMsrM.js";import{L as A}from"./loading-button-CjOdg6Ro.js";import{B as C}from"./button-CPCtH35G.js";import{D as u,a as H,b as x,c as h,d as j,e as J,f as V}from"./dialog-BWowll2R.js";import{I as f}from"./input-CXffHHHp.js";import{L as i}from"./label-aM7LSFRq.js";import{S as g}from"./scroll-area-IRPV99xu.js";import{S as w,a as P,b as R,c as z,d as S}from"./select-OeQ7gBvr.js";import{T as G}from"./textarea-DudM8zfq.js";import{u as K}from"./use-lang-D5QbSlJz.js";import{o as v}from"./inertia-SZXqLvQm.js";import"./debounce-CWHP_ANh.js";import"./tooltip-CEl36Rz7.js";import"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const ce=({title:b,handler:D,categoryId:N,categoryChild:s,lastChildPosition:_})=>{const[I,n]=m.useState(!1),[O,l]=m.useState(!1),{dashboard:L,input:a,button:d}=K(),{data:r,setData:o,post:T,put:k,reset:y,errors:c,processing:B}=F({title:s?s.title:"",icon:s?s.icon:"",sort:s?s.sort:_+1,status:s?s.status:1,description:s?s.description:"",course_category_id:N}),E=t=>{t.preventDefault(),s?k(route("category-child.update",{category_child:s.id}),{onSuccess:()=>n(!1)}):T(route("category-child.store"),{onSuccess:()=>{y(),n(!1)}})};return e.jsxs(u,{open:I,onOpenChange:n,children:[e.jsx(H,{className:"w-full",children:D}),e.jsx(x,{className:"p-0",children:e.jsxs(g,{className:"max-h-[90vh] p-6",children:[e.jsx(h,{className:"mb-6",children:e.jsx(j,{children:b})}),e.jsxs("form",{onSubmit:E,className:"space-y-4 p-0.5",children:[e.jsxs("div",{children:[e.jsx(i,{children:a.title}),e.jsx(f,{required:!0,type:"text",name:"title",value:r.title,placeholder:a.title_placeholder,onChange:t=>v(t,o)}),e.jsx(p,{message:c.title})]}),e.jsxs("div",{children:[e.jsx(i,{children:a.category_icon}),e.jsx(f,{required:!0,readOnly:!0,type:"text",name:"icon",value:r.icon,placeholder:a.icon_placeholder,onClick:()=>l(!0)}),e.jsx(p,{message:c.icon}),e.jsx(u,{open:O,onOpenChange:l,children:e.jsx(x,{className:"p-0",children:e.jsxs(g,{className:"max-h-[90vh] p-6",children:[e.jsx(h,{className:"mb-6",children:e.jsx(j,{children:L.icon_picker})}),e.jsx(q,{onSelect:t=>{o("icon",t),l(!1)}})]})})})]}),e.jsxs("div",{children:[e.jsx(i,{children:a.category_status}),e.jsxs(w,{value:JSON.stringify(r.status),onValueChange:t=>o("status",JSON.parse(t)),children:[e.jsx(P,{children:e.jsx(R,{placeholder:a.status_placeholder})}),e.jsxs(z,{children:[e.jsx(S,{value:"1",children:"Active"}),e.jsx(S,{value:"0",children:"Deactive"})]})]})]}),e.jsxs("div",{children:[e.jsxs(i,{children:[a.description," (optional)"]}),e.jsx(G,{name:"description",value:r.description,placeholder:a.description_placeholder,onChange:t=>v(t,o)}),e.jsx(p,{message:c.description})]}),e.jsxs(J,{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(V,{asChild:!0,children:e.jsx(C,{type:"button",variant:"outline",children:d.close})}),e.jsx(A,{loading:B,children:d.submit})]})]})]})})]})};export{ce as default};

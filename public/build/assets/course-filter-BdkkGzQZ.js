import{u as P,r as E,j as e,e as I,ap as j,L as n}from"./vendor-BBDGfIfP.js";import{I as L}from"./input-Dldj9DiJ.js";import{C as i}from"./checkbox-DFVJwr6m.js";import{C as b,a as N,b as y}from"./collapsible-qY9CFfL8.js";import{S as k}from"./separator-CHdmUWH0.js";import{g as Q}from"./route-B4ZMN77y.js";import"./utils-fgVZ67ei.js";const G=({setOpen:c})=>{const v=P(),l=Q(v.url),{levels:F,prices:w,categories:$,category:r,categoryChild:a,translate:S}=v.props,{frontend:x,common:p}=S,[m,_]=E.useState({categories:!0,price:!0,level:!0}),u=s=>{_(t=>({...t,[s]:!t[s]}))},o=(s,t,d)=>{const h={...l};return"search"in h&&delete h.search,route("category.courses",{category:t,category_child:d,...h,...s})};return e.jsxs("div",{className:"course-filter-container space-y-1",children:[e.jsx("div",{className:"mb-4",children:e.jsx(L,{type:"text",placeholder:x.search_courses||"Search...",className:"h-10",onChange:s=>{const t=s.target.value;(t.length>2||t.length===0)&&I.get(route("category.courses",{category:"all",search:t}))}})}),e.jsxs(b,{open:m.categories,onOpenChange:()=>u("categories"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:p.categories}),e.jsx(j,{className:`h-4 w-4 transition-transform ${m.categories?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:o({},"all"),children:[e.jsx(i,{id:"category-all",checked:!r&&!a,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"category-all",className:"cursor-pointer text-sm flex-1",children:x.all})]}),$.map((s,t)=>{const d=`category${t}`;if(s.slug==="default")return null;const h=(r==null?void 0:r.slug)===s.slug&&!a;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:o({},s.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:d,checked:h,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:d,className:"cursor-pointer text-sm capitalize flex-1",children:s.title})]}),s.category_children&&s.category_children.length>0&&e.jsx("div",{className:"ml-6 space-y-2",children:s.category_children.map((f,C)=>{const g=`category_child${t}_${C}`,z=(a==null?void 0:a.slug)===f.slug;return e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:o({},s.slug,f.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:g,checked:z,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:g,className:"cursor-pointer text-sm capitalize flex-1",children:f.title})]},g)})})]},d)})]})]}),e.jsx(k,{}),e.jsxs(b,{open:m.price,onOpenChange:()=>u("price"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:p.price}),e.jsx(j,{className:`h-4 w-4 transition-transform ${m.price?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:o({price:"all"},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:"price-all",checked:!l.price||l.price==="all",className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"price-all",className:"cursor-pointer text-sm flex-1",children:x.all})]}),w.map(s=>e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors capitalize",href:o({price:s},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:`price-${s}`,checked:l.price===s,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:`price-${s}`,className:"cursor-pointer text-sm flex-1",children:s})]},s))]})]}),e.jsx(k,{}),e.jsxs(b,{open:m.level,onOpenChange:()=>u("level"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:p.level}),e.jsx(j,{className:`h-4 w-4 transition-transform ${m.level?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:o({level:"all"},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:"level-all",checked:!l.level||l.level==="all",className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"level-all",className:"cursor-pointer text-sm flex-1",children:x.all})]}),F.map(s=>e.jsxs(n,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors capitalize",href:o({level:s},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:`level-${s}`,checked:l.level===s,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:`level-${s}`,className:"cursor-pointer text-sm flex-1",children:s})]},s))]})]})]})};export{G as default};

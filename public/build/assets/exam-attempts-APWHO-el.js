import{u as p,r as j,b$ as g,j as e,k as u,A as n,c2 as f,c3 as N,c4 as b,c5 as w}from"./vendor-CSmzIpnM.js";import{T as C}from"./table-header-BK1vJDil.js";import{B as R}from"./badge-DV-TiKrP.js";import{C as l,a as y,c as v,b as T}from"./card-BuTjYYDH.js";import{T as M,a as S,b as m,c as i}from"./table-mkQVgGjG.js";import k from"./exam-attempt-columns-CFbmOWNX.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./button-CPCtH35G.js";import"./dropdown-menu-CNWlVopi.js";import"./route-B4ZMN77y.js";const q=()=>{var o;const{exam:d,attempts:a,bestAttempt:s}=p().props,[x,h]=j.useState([]),r=g({data:a||[],columns:k((d==null?void 0:d.id)??0,s==null?void 0:s.id),onSortingChange:h,getCoreRowModel:w(),getSortedRowModel:b(),getFilteredRowModel:N(),state:{sorting:x}});return!a||a.length===0?e.jsx("div",{className:"flex h-full items-center justify-center rounded-lg border border-dashed text-center",children:e.jsxs("div",{className:"space-y-2 p-10",children:[e.jsx(u,{className:"text-muted-foreground mx-auto h-10 w-10"}),e.jsx("h2",{className:"text-xl font-semibold",children:"لا توجد محاولات بعد"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"ستظهر محاولات الاختبار الخاصة بك هنا بمجرد بدء الاختبار."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"إجمالي المحاولات"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"مكتمل"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(t=>t.status==="completed").length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"قيد التقدم"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(t=>t.status==="in_progress").length})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"أفضل نتيجة"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s==null?void 0:s.obtained_marks}),s&&e.jsx(n,{className:"h-5 w-5 text-amber-500"})]})]})})]}),e.jsxs(l,{children:[e.jsxs(y,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsx(v,{className:"text-xl font-semibold",children:"محاولات الاختبار"}),s&&e.jsxs(R,{variant:"secondary",className:"flex items-center gap-1 bg-amber-100 text-amber-700",children:[e.jsx(n,{className:"h-4 w-4"}),"أفضل نتيجة ",s.obtained_marks]})]}),e.jsx(T,{className:"p-0",children:e.jsxs(M,{className:"border-border border-y",children:[e.jsx(C,{table:r}),e.jsx(S,{children:(o=r.getRowModel().rows)!=null&&o.length?r.getRowModel().rows.map(t=>e.jsx(m,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(c=>e.jsx(i,{children:f(c.column.columnDef.cell,c.getContext())},c.id))},t.id)):e.jsx(m,{children:e.jsx(i,{colSpan:r.getAllColumns().length,className:"h-24 text-center",children:"لم يتم العثور على محاولات اختبار."})})})]})})]})]})};export{q as default};

import{j as a,q as s,cd as d,s as r,c7 as m,ce as p,cf as u}from"./vendor-BBDGfIfP.js";import{B as t}from"./badge-CuP0AKCr.js";import{B as l}from"./button-BxbUMaK9.js";import g from"./coupon-form-DMxvuESA.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./input-error-DzlB5Qkt.js";import"./loading-button-BLSSbYXc.js";import"./dialog-Ao4xhLhR.js";import"./input-Dldj9DiJ.js";import"./label-DUVUvbLf.js";import"./select-CMFY0w3t.js";import"./switch-DRIloLVZ.js";import"./inertia-SZXqLvQm.js";const E=({exams:o})=>{const n=e=>e.is_active?e.valid_to&&p(r(e.valid_to))?{label:"Expired",variant:"destructive"}:e.valid_from&&u(r(e.valid_from))?{label:"Scheduled",variant:"secondary"}:e.usage_limit&&e.used_count>=e.usage_limit?{label:"Used Up",variant:"destructive"}:{label:"Active",variant:"default"}:{label:"Inactive",variant:"secondary"},c=e=>{navigator.clipboard.writeText(e),alert("Coupon code copied to clipboard!")};return[{accessorKey:"code",header:()=>a.jsx("p",{className:"pl-4",children:"Coupon Code"}),cell:({row:e})=>a.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[a.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 font-bold",children:e.original.code}),a.jsx(l,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(e.original.code),children:a.jsx(d,{className:"h-3 w-3"})})]})},{accessorKey:"discount",header:"Discount",cell:({row:e})=>a.jsx(t,{variant:"outline",children:e.original.discount_type==="percentage"?`${e.original.discount}% OFF`:`$${e.original.discount} OFF`})},{accessorKey:"exam",header:"Exam",cell:({row:e})=>e.original.exam?a.jsx("span",{className:"font-medium",children:e.original.exam.title}):a.jsx("span",{className:"text-primary font-medium",children:"Global Coupon"})},{accessorKey:"usage",header:"Usage",cell:({row:e})=>e.original.usage_type==="limited"?a.jsxs("span",{children:[e.original.used_count," / ",e.original.usage_limit]}):a.jsx("span",{children:"Unlimited"})},{accessorKey:"valid_from",header:"Valid From",cell:({row:e})=>e.original.valid_from?s(r(e.original.valid_from),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"valid_to",header:"Valid To",cell:({row:e})=>e.original.valid_to?s(r(e.original.valid_to),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const i=n(e.original);return a.jsx(t,{variant:i.variant,children:i.label})}},{id:"actions",header:()=>a.jsx("p",{className:"pr-4 text-end",children:"Actions"}),cell:({row:e})=>{const i=e.original;return a.jsx("div",{className:"flex items-center justify-end py-2 pr-4",children:a.jsx(g,{title:"Edit Coupon",coupon:i,exams:o,handler:a.jsx(l,{size:"icon",variant:"secondary",className:"h-8 w-8",children:a.jsx(m,{})})})})}}]};export{E as default};

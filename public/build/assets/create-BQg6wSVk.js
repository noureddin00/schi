import{b as R,r as h,j as t}from"./vendor-BBDGfIfP.js";import{C as v}from"./combobox-D7KHlSTK.js";import{D as z}from"./datetime-picker-D77t9GA8.js";import{I as c}from"./input-error-DzlB5Qkt.js";import{L as H}from"./loading-button-BLSSbYXc.js";import{A as f,a as y,c as C}from"./accordion-DAQp0Avn.js";import{C as w}from"./card-XBn4TxoT.js";import{C as G}from"./checkbox-DFVJwr6m.js";import{I as a}from"./input-Dldj9DiJ.js";import{L as r}from"./label-DUVUvbLf.js";import{R as N,a as k}from"./radio-group-CBkhOvCv.js";import{S as q,a as B,b as P,c as J,d as K}from"./select-CMFY0w3t.js";import{T as O}from"./textarea-ovCXlSTO.js";import{u as Q}from"./use-auth-CGMsRAdC.js";import{D as U}from"./layout-B6TmRkMH.js";import{o as S}from"./inertia-SZXqLvQm.js";import{k as W}from"./richtor-QjVY_KZS.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./popover-CmHxiVMc.js";import"./use-lang-B9LAL-fo.js";import"./sidebar-BIOzr87F.js";import"./separator-CHdmUWH0.js";import"./sheet-wkcDRUUF.js";import"./tooltip-CsicHBaL.js";import"./main-BfH_Euhm.js";import"./index-G4n3qM_p.js";import"./appearance-B5Loow3-.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./app-QE52-tq2.js";import"./language-plqgqSJb.js";import"./notification-DhXMcL3J.js";import"./scroll-area-Dmjd_gyP.js";import"./app-logo-opM5JP4B.js";import"./route-B4ZMN77y.js";import"./avatar-lYJ9pRpJ.js";const X=x=>{var d;const{user:m}=Q(),{categories:_,instructors:j,system:o,translate:I}=x,{input:Y,dashboard:e,button:u}=I||{},{data:s,setData:n,post:F,errors:l,processing:D}=R({title:"",short_description:"",description:"",status:"draft",level:"",pricing_type:"paid",price:"",discount:!1,discount_price:"",duration_hours:1,duration_minutes:0,pass_mark:50,max_attempts:3,total_marks:100,expiry_type:"lifetime",expiry_duration:new Date,thumbnail:null,instructor_id:m.role==="admin"&&o.sub_type==="collaborative"?"":m.instructor_id,exam_category_id:""}),V=i=>{i.preventDefault(),F(route("exams.store"))},T=h.useMemo(()=>_.map(i=>({label:i.title,value:i.id.toString()})),[_]),A=h.useMemo(()=>j.map(i=>({label:i.user.name,value:i.id.toString()})),[j]),L=["beginner","intermediate","advanced"],E=["paid","free"],M=["lifetime","limited_time"];return t.jsx(w,{className:"container p-6",children:t.jsxs("form",{onSubmit:V,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.exam_title)||"عنوان الاختبار"," *"]}),t.jsx(a,{name:"title",value:s.title,onChange:i=>S(i,n),placeholder:(e==null?void 0:e.enter_exam_title)||"أدخل عنوان الاختبار"}),t.jsx(c,{message:l.title})]}),t.jsxs("div",{children:[t.jsx(r,{children:(e==null?void 0:e.short_description)||"الوصف المختصر"}),t.jsx(O,{rows:5,name:"short_description",value:s.short_description,onChange:i=>S(i,n),placeholder:(e==null?void 0:e.brief_description_for_cards)||"وصف موجز لبطاقات الاختبار"}),t.jsx(c,{message:l.short_description})]}),t.jsxs("div",{children:[t.jsx(r,{children:(e==null?void 0:e.description)||"الوصف"}),t.jsx(W,{ssr:!0,output:"html",placeholder:{paragraph:(e==null?void 0:e.enter_detailed_description)||"أدخل وصفا مفصلا للاختبار...",imageCaption:(e==null?void 0:e.enter_detailed_description)||"أدخل وصفا مفصلا للاختبار..."},contentMinHeight:256,contentMaxHeight:640,initialContent:s.description,onContentChange:i=>n(p=>({...p,description:i}))}),t.jsx(c,{message:l.description})]})]}),t.jsxs("div",{className:"space-y-4",children:[(m==null?void 0:m.role)==="admin"&&(o==null?void 0:o.sub_type)==="collaborative"&&t.jsxs("div",{children:[t.jsxs(r,{htmlFor:"instructor_id",children:[(e==null?void 0:e.exam_instructor)||"مدرس الاختبار"," *"]}),t.jsx(v,{data:A||[],placeholder:(e==null?void 0:e.select_instructor)||"اختر مدرسا",defaultValue:((d=s.instructor_id)==null?void 0:d.toString())||"",onSelect:i=>n("instructor_id",i.value)}),t.jsx(c,{message:l.instructor_id})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs(r,{htmlFor:"exam_category_id",children:[(e==null?void 0:e.category)||"الفئة"," *"]}),t.jsx(v,{data:T,placeholder:(e==null?void 0:e.select_category)||"اختر فئة",onSelect:i=>{n("exam_category_id",i.value)}}),t.jsx(c,{message:l.exam_category_id})]}),t.jsxs("div",{children:[t.jsxs(r,{htmlFor:"level",children:[(e==null?void 0:e.difficulty_level)||"مستوى الصعوبة"," *"]}),t.jsxs(q,{value:s.level,onValueChange:i=>n("level",i),children:[t.jsx(B,{children:t.jsx(P,{placeholder:(e==null?void 0:e.select_level)||"اختر مستوى"})}),t.jsx(J,{children:L.map(i=>t.jsx(K,{value:i,className:"capitalize",children:i},i))})]}),t.jsx(c,{message:l.level})]})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.duration_hours)||"المدة (ساعات)"," *"]}),t.jsx(a,{type:"number",name:"duration_hours",value:s.duration_hours.toString(),onChange:i=>n("duration_hours",parseInt(i.target.value)||0),placeholder:(e==null?void 0:e.duration_hours_placeholder)||"١",min:"0"}),t.jsx(c,{message:l.duration_hours})]}),t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.duration_minutes)||"المدة (دقائق)"," *"]}),t.jsx(a,{type:"number",name:"duration_minutes",value:s.duration_minutes.toString(),onChange:i=>n("duration_minutes",parseInt(i.target.value)||0),placeholder:(e==null?void 0:e.duration_minutes_placeholder)||"٠",min:"0",max:"59"}),t.jsx(c,{message:l.duration_minutes})]}),t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.pass_mark)||"درجة النجاح"," *"]}),t.jsx(a,{type:"number",name:"pass_mark",value:s.pass_mark.toString(),onChange:i=>n("pass_mark",parseInt(i.target.value)||0),placeholder:(e==null?void 0:e.pass_mark_placeholder)||"٥٠",min:"0",max:"100"}),t.jsx(c,{message:l.pass_mark})]})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.max_attempts)||"أقصى عدد محاولات"," *"]}),t.jsx(a,{type:"number",name:"max_attempts",value:s.max_attempts.toString(),onChange:i=>n("max_attempts",parseInt(i.target.value)||1),placeholder:(e==null?void 0:e.max_attempts_placeholder)||"٣",min:"1"}),t.jsx(c,{message:l.max_attempts})]}),t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.total_marks)||"المجموع الكلي"," *"]}),t.jsx(a,{type:"number",name:"total_marks",value:s.total_marks.toString(),onChange:i=>n("total_marks",parseInt(i.target.value)||1),placeholder:(e==null?void 0:e.total_marks_placeholder)||"١٠٠",min:"1"}),t.jsx(c,{message:l.total_marks})]})]}),t.jsxs("div",{children:[t.jsxs(r,{children:[(e==null?void 0:e.pricing_type_required)||"نوع التسعير"," *"]}),t.jsx(N,{defaultValue:s.pricing_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:i=>n("pricing_type",i),children:E.map(i=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{className:"cursor-pointer",id:i,value:i}),t.jsx(r,{htmlFor:i,className:"cursor-pointer capitalize",children:i==="free"?(e==null?void 0:e.free)||"مجاني":(e==null?void 0:e.paid)||"مدفوع"})]},i))}),t.jsx(c,{message:l.pricing_type}),t.jsx(f,{collapsible:!0,type:"single",value:s.pricing_type,children:t.jsx(y,{value:"paid",className:"border-none",children:t.jsxs(C,{className:"space-y-4 p-0.5",children:[t.jsxs("div",{className:"pt-3",children:[t.jsxs(r,{htmlFor:"price",children:[(e==null?void 0:e.price)||"السعر"," *"]}),t.jsx(a,{type:"number",name:"price",value:s.price.toString(),onChange:i=>n("price",i.target.value),placeholder:(e==null?void 0:e.enter_exam_price)||"أدخل سعر الاختبار (دولار)"}),t.jsx(c,{message:l.price})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(G,{id:"discount",name:"discount",checked:s.discount,onCheckedChange:i=>{n("discount",i===!0)}}),t.jsx(r,{htmlFor:"discount",className:"cursor-pointer",children:(e==null?void 0:e.exam_discount)||"خصم الاختبار"})]}),s.discount&&t.jsxs("div",{children:[t.jsx(a,{type:"number",name:"discount_price",value:s.discount_price.toString(),onChange:i=>n("discount_price",i.target.value),placeholder:(e==null?void 0:e.enter_discount_price)||"أدخل سعر الخصم"}),t.jsx(c,{message:l.discount_price})]})]})]})})})]}),t.jsxs("div",{children:[t.jsx(r,{children:(e==null?void 0:e.expiry_period_type)||"نوع فترة الانتهاء"}),t.jsx(N,{defaultValue:s.expiry_type,className:"flex items-center space-x-4 pt-2 pb-1",onValueChange:i=>n("expiry_type",i),children:M.map(i=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{className:"cursor-pointer",id:i,value:i}),t.jsx(r,{htmlFor:i,className:"capitalize",children:i==="lifetime"?(e==null?void 0:e.lifetime)||"مدى الحياة":(e==null?void 0:e.limited_time)||"وقت محدود"})]},i))}),t.jsx(c,{message:l.expiry_type}),t.jsx(f,{collapsible:!0,type:"single",value:s.expiry_type,children:t.jsx(y,{value:"limited_time",className:"border-none",children:t.jsx(C,{className:"space-y-4 p-0.5",children:t.jsxs("div",{className:"pt-3",children:[t.jsx(r,{htmlFor:"expiry_duration",children:(e==null?void 0:e.expiry_date)||"تاريخ الانتهاء"}),t.jsx(z,{date:s.expiry_duration,setDate:i=>n("expiry_duration",i)}),t.jsx(c,{message:l.expiry_duration})]})})})})]}),t.jsxs("div",{children:[t.jsx(r,{htmlFor:"thumbnail",children:(e==null?void 0:e.thumbnail)||"الصورة المصغرة"}),t.jsx(a,{type:"file",name:"thumbnail",onChange:i=>{var g;const p=(g=i.target.files)==null?void 0:g[0];p&&n("thumbnail",p)}}),t.jsx(c,{message:l.thumbnail})]})]})]}),t.jsx("div",{className:"col-span-2 mt-6 text-right",children:t.jsx(H,{loading:D,children:(u==null?void 0:u.create_exam)||"إنشاء اختبار"})})]})})};X.layout=x=>t.jsx(U,{children:x});export{X as default};

import{u as x,r as g,b$ as h,j as e,c2 as u,c3 as j,c4 as b,c5 as f}from"./vendor-BBDGfIfP.js";import{T as N}from"./table-filter-BPfi3bsR.js";import{T as R}from"./table-footer-CoYRbR2V.js";import{T}from"./table-header-Blk2L6oN.js";import{C as a}from"./card-XBn4TxoT.js";import{T as C,a as w,b as i,c}from"./table-DtRgeYtV.js";import S from"./exam-attempt-review-DhLf7RWQ.js";import M from"./exam-attempt-table-columns-D3_A4Zqy.js";import"./use-lang-B9LAL-fo.js";import"./debounce-CWHP_ANh.js";import"./route-B4ZMN77y.js";import"./utils-fgVZ67ei.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./dropdown-menu-BvLJ_5Oe.js";import"./scroll-area-Dmjd_gyP.js";import"./table-page-size-Dvl3LnSg.js";import"./question-status-icon-L9w5qUPK.js";import"./badge-CuP0AKCr.js";import"./question-type-badge-hEf0DxP0.js";import"./input-Dldj9DiJ.js";import"./label-DUVUvbLf.js";import"./richtor-QjVY_KZS.js";const W=()=>{var d;const{attempts:s,exam:o,attempt:m}=x().props,[p,n]=g.useState([]),l=h({data:s.data,columns:M(),onSortingChange:n,getCoreRowModel:f(),getSortedRowModel:b(),getFilteredRowModel:j(),state:{sorting:p}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Attempts"}),e.jsx("p",{className:"text-2xl font-bold",children:s.total})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.data.filter(t=>t.status==="completed").length})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.data.filter(t=>t.status==="in_progress").length})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:"Pass Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.data.length>0?(s.data.filter(t=>t.is_passed&&t.status==="completed").length/s.data.filter(t=>t.status==="completed").length*100||0).toFixed(1):0,"%"]})]})})]}),m?e.jsx(S,{attempt:m}):e.jsxs(a,{children:[e.jsx(N,{data:s,title:"Exam Attempts",globalSearch:!0,tablePageSizes:[10,15,20,25],routeName:"exams.edit",routeParams:{exam:o.id,tab:"attempts"}}),e.jsxs(C,{className:"border-border border-y",children:[e.jsx(T,{table:l}),e.jsx(w,{children:(d=l.getRowModel().rows)!=null&&d.length?l.getRowModel().rows.map(t=>e.jsx(i,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(r=>e.jsx(c,{children:u(r.column.columnDef.cell,r.getContext())},r.id))},t.id)):e.jsx(i,{children:e.jsx(c,{colSpan:l.getAllColumns().length,className:"h-24 text-center",children:"No exam attempts found."})})})]}),e.jsx(R,{className:"p-5 sm:p-7",routeName:"exams.edit",paginationInfo:s,routeParams:{exam:o.id,tab:"attempts"}})]})]})};export{W as default};

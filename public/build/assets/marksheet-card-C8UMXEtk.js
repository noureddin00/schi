import{u as f,r as g,j as e,K as m,c9 as y,L as _,x as k,T as w,e as x}from"./vendor-BBDGfIfP.js";import{B as o}from"./button-BxbUMaK9.js";import{C as D,a as S,c as M,d as P,b as T}from"./card-XBn4TxoT.js";import{D as L,b as z,c as b,d as A}from"./dialog-Ao4xhLhR.js";import{S as B}from"./scroll-area-Dmjd_gyP.js";import E from"./marksheet-preview-C_V8JglX.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";const I=({type:p,template:s})=>{const{props:h}=f(),u=h.translate||{},{common:n={},button:i={},table:t={},dashboard:a={}}=u,r={active:(n==null?void 0:n.active)||"نشط",created:(t==null?void 0:t.created)||"تم الإنشاء:",primary:(t==null?void 0:t.primary)||"أساسي",secondary:(t==null?void 0:t.secondary)||"ثانوي",activate:(i==null?void 0:i.activate)||"تفعيل",edit:(i==null?void 0:i.edit)||"تعديل",deleteConfirm:(a==null?void 0:a.delete_marksheet_warning)||"هل أنت متأكد من حذف قالب كشف الدرجات هذا؟",preview:(a==null?void 0:a.preview)||"معاينة:",sampleStudent:(a==null?void 0:a.sample_student_name)||"محمد أحمد",sampleCourse:(a==null?void 0:a.sample_course_name)||"اسم دورة تجريبية",sampleDate:(a==null?void 0:a.sample_date)||"١ يناير ٢٠٢٥"},[c,d]=g.useState(null),v=l=>{x.post(route("marksheet.templates.activate",l),{type:p},{preserveScroll:!0})},j=l=>{confirm(r.deleteConfirm)&&x.delete(route("marksheet.templates.destroy",l),{preserveScroll:!0})},C=l=>{d(l)},N=()=>{d(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{className:`relative ${s.is_active?"ring-primary ring-2":""}`,children:[s.is_active&&e.jsxs("div",{className:"bg-primary text-primary-foreground absolute top-4 right-4 rounded-full px-3 py-1 text-xs font-semibold",children:[e.jsx(m,{className:"mr-1 inline h-3 w-3"}),r.active]}),e.jsxs(S,{children:[e.jsxs(M,{className:"flex items-center",children:[e.jsx(y,{className:"mr-2 h-5 w-5"}),s.name]}),e.jsxs(P,{children:[r.created," ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"cursor-pointer rounded-lg border-2 p-4 text-center transition-all hover:shadow-md",style:{backgroundColor:s.template_data.backgroundColor,borderColor:s.template_data.borderColor},onClick:()=>C(s),children:[e.jsx("div",{className:"mb-2 text-xs font-bold",style:{color:s.template_data.primaryColor},children:s.template_data.headerText}),e.jsx("div",{className:"text-[8px]",style:{color:s.template_data.secondaryColor},children:s.template_data.institutionName})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded border",style:{backgroundColor:s.template_data.primaryColor}}),e.jsx("span",{className:"text-xs",children:r.primary})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded border",style:{backgroundColor:s.template_data.secondaryColor}}),e.jsx("span",{className:"text-xs",children:r.secondary})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!s.is_active&&e.jsxs(o,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>v(s.id),children:[e.jsx(m,{className:"mr-1 h-3 w-3"}),r.activate]}),e.jsx(o,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(_,{href:route("marksheet.templates.edit",s.id),children:[e.jsx(k,{className:"mr-1 h-3 w-3"}),r.edit]})}),e.jsx(o,{size:"sm",variant:"destructive",onClick:()=>j(s.id),children:e.jsx(w,{className:"h-3 w-3"})})]})]})]},s.id),c&&e.jsx(L,{open:!!c,onOpenChange:l=>!l&&N(),children:e.jsx(z,{className:"w-full gap-0 overflow-y-auto p-0 sm:max-w-4xl",children:e.jsx(B,{className:"max-h-[90vh]",children:e.jsxs("div",{className:"p-6",children:[e.jsx(b,{className:"mb-6",children:e.jsxs(A,{children:[r.preview," ",c==null?void 0:c.name]})}),e.jsx(E,{template:c,studentName:r.sampleStudent,courseName:r.sampleCourse,completionDate:r.sampleDate})]})})})})]})};export{I as default};

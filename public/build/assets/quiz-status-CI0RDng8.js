import{u as f,j as e,L as j,b7 as g,c9 as _,q as N}from"./vendor-CSmzIpnM.js";import{B as h}from"./badge-DV-TiKrP.js";import{B as y}from"./button-CPCtH35G.js";import{c as v}from"./utils-fgVZ67ei.js";import w from"./quiz-result-dialog-CAdmeAxr.js";import"./index-BSu11NtU.js";import"./card-BuTjYYDH.js";import"./dialog-BWowll2R.js";import"./scroll-area-IRPV99xu.js";const u=({quiz:s,latestSubmission:t})=>{const{props:l}=f(),{translate:a}=l,{frontend:n}=a,i=t==null?void 0:t.is_passed,c=t!==null;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary/10 flex h-12 w-12 items-center justify-center rounded-lg",children:e.jsx(_,{className:"text-primary h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-primary text-base font-medium",children:s.title}),t&&e.jsx(h,{variant:i?"default":"destructive",className:"text-xs",children:i?n.passed:n.not_passed}),!c&&e.jsx(h,{variant:"destructive",className:"text-xs",children:"Not Submitted"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:N(new Date(s.created_at),"PPpp")})]})]})},R=({quiz:s,completed:t})=>{const{props:l}=f(),{watchHistory:a,translate:n}=l,{frontend:i}=n,c=t.some(p=>p.type==="quiz"&&p.id==s.id),m=a.current_watching_type==="quiz"&&a.current_watching_id==s.id,o=a.next_watching_type==="quiz"&&s.id==a.next_watching_id,r=s.quiz_submissions&&s.quiz_submissions.length>0?s.quiz_submissions[s.quiz_submissions.length-1]:null,x=(r==null?void 0:r.total_marks)||0,d=r!==null;return e.jsx(e.Fragment,{children:c||m||o?e.jsxs("div",{className:"bg-card flex items-center justify-between gap-3 rounded-lg border p-3",children:[e.jsx("div",{className:v("flex flex-1 items-center gap-3",c?"text-blue-500":m?"text-green-500":o?"text-primary":"text-gray-500"),children:e.jsx(u,{quiz:s,latestSubmission:r})}),e.jsxs("div",{className:"flex flex-col items-center justify-end gap-3 md:flex-row",children:[d&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium",children:[i.total_marks,": ",x,"/",s.total_mark]})}),d?e.jsx(w,{quiz:s,submission:r}):e.jsx(y,{size:"sm",asChild:!0,children:e.jsx(j,{href:route("course.player",{type:"quiz",watch_history:a.id,lesson_id:s.id}),children:"Take Quiz"})})]})]}):e.jsxs("div",{className:"bg-card flex items-center justify-between gap-3 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-3 text-gray-500",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx(u,{quiz:s,latestSubmission:null})]}),e.jsx("div",{className:"flex items-center gap-3",children:d&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-gray-500",children:[i.total_marks,": ",x,"/",s.total_mark]})})})]})})};export{R as default};

import{u as C,j as e,cz as k,bH as h,e as N,c6 as D,cd as Q,x as S,T as z,n as f,a8 as P,cA as A}from"./vendor-CSmzIpnM.js";import{D as B}from"./data-sort-modal-feTc6whY.js";import{Q as T}from"./question-type-badge-bsl7poz7.js";import{D as H}from"./delete-modal-CuMgUHd_.js";import{B as r}from"./button-CPCtH35G.js";import{C as c,b as y}from"./card-BuTjYYDH.js";import{e as M}from"./richtor-C9479olP.js";import x from"./question-dialog-Cscd9Rl_.js";import"./utils-fgVZ67ei.js";import"./dialog-BWowll2R.js";import"./scroll-area-IRPV99xu.js";import"./badge-DV-TiKrP.js";import"./index-BSu11NtU.js";import"./input-error-DFZPMsrM.js";import"./loading-button-CjOdg6Ro.js";import"./input-CXffHHHp.js";import"./label-aM7LSFRq.js";import"./select-OeQ7gBvr.js";import"./inertia-SZXqLvQm.js";import"./fill-blank-form-D6YSJdne.js";import"./listening-form-CLfEAJJ6.js";import"./chunked-uploader-input-Yn25Jrwl.js";import"./index-C3-Y1HVF.js";import"./radio-group-DaFaWsux.js";import"./textarea-DudM8zfq.js";import"./matching-form-CkEKAD9C.js";import"./multiple-choice-form-DVCIT13I.js";import"./checkbox-VurnA67S.js";import"./ordering-form-DGDP8zHx.js";import"./short-answer-form-B9RZYXwA.js";const pe=()=>{const{props:_}=C(),{exam:l,translate:v}=_,{dashboard:s}=v||{},{questions:m}=l,w=t=>{N.post(route("exam-questions.duplicate",{question:t}),{},{preserveScroll:!0})};return m.length===0?e.jsx(c,{children:e.jsxs(y,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"mb-4 rounded-full bg-gray-100 p-6",children:e.jsx(k,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:(s==null?void 0:s.no_questions_yet)||"لا توجد أسئلة بعد"}),e.jsx("p",{className:"mb-6 max-w-md text-center text-gray-600",children:(s==null?void 0:s.start_building_exam)||"ابدأ بناء اختبارك بإضافة أسئلة. يمكنك إنشاء أسئلة اختيار متعدد، وإجابات قصيرة، والعديد من أنواع الأسئلة الأخرى."}),e.jsx(x,{exam:l,handler:e.jsxs(r,{children:[e.jsx(h,{className:"h-4 w-4"}),(s==null?void 0:s.add_first_question)||"إضافة السؤال الأول"]})})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:(s==null?void 0:s.exam_questions)||"أسئلة الاختبار"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[m.length," • ",(s==null?void 0:s.total)||"الإجمالي",": ",l.total_marks]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{title:(s==null?void 0:s.exam_questions)||"أسئلة الاختبار",data:m,handler:e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),(s==null?void 0:s.reorder)||"إعادة الترتيب"]}),onOrderChange:(t,n)=>{N.post(route("exam-questions.reorder"),{sortedData:t},{preserveScroll:!0,onSuccess:()=>n&&n(!1)})},renderContent:t=>e.jsx(c,{className:"flex w-full items-center justify-between px-4 py-3",children:e.jsx("p",{children:t.title})})}),e.jsx(x,{exam:l,handler:e.jsxs(r,{children:[e.jsx(h,{className:"h-4 w-4"}),(s==null?void 0:s.add_question)||"إضافة سؤال"]})})]})]}),e.jsx("div",{className:"space-y-3",children:m.map((t,n)=>{var o,p,d,j,g,u;return e.jsx(c,{className:"transition-shadow hover:shadow-md",children:e.jsxs(y,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[(s==null?void 0:s.question_short)||"س",n+1]}),e.jsx(T,{type:t.question_type}),e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[t.marks," ",(s==null?void 0:s.marks)||"درجات"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:"icon",variant:"ghost",className:"bg-muted hover:bg-muted-foreground/10 h-8 w-8 rounded-full p-0",onClick:()=>w(t.id),children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsx(x,{exam:l,question:t,handler:e.jsx(r,{size:"icon",variant:"ghost",className:"bg-muted hover:bg-muted-foreground/10 h-8 w-8 rounded-full p-0",children:e.jsx(S,{className:"h-4 w-4"})})}),e.jsx(H,{message:(s==null?void 0:s.delete_question_confirm)||"هل أنت متأكد أنك تريد حذف هذا السؤال؟",routePath:route("exam-questions.destroy",t.id),actionComponent:e.jsx(r,{size:"icon",variant:"ghost",className:"bg-destructive/8 hover:bg-destructive/6 h-8 w-8 rounded-full p-0",children:e.jsx(z,{className:"text-destructive text-sm"})})})]})]}),e.jsx("h4",{className:"mb-1 font-medium text-gray-900",children:t.title}),e.jsx(M,{value:t.description||""}),(t.question_type==="multiple_choice"||t.question_type==="multiple_select")&&t.question_options&&t.question_options.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-x-6 gap-y-3",children:t.question_options.map(i=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.is_correct?e.jsx(f,{strokeWidth:3,className:"h-4 w-4 text-green-500"}):e.jsx(P,{strokeWidth:3,className:"h-4 w-4 text-gray-300"}),e.jsx("span",{className:i.is_correct?"font-medium text-green-700":"text-gray-600",children:i.option_text})]},i.id))}),t.question_type==="matching"&&((o=t.options)==null?void 0:o.matches)&&t.options.matches.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:(s==null?void 0:s.matching_pairs)||"أزواج المطابقة"}),e.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:t.options.matches.map((i,a)=>e.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-gray-50 p-2 text-sm",children:[e.jsx("span",{className:"text-gray-700",children:i.question}),e.jsx(A,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium text-green-600",children:i.answer})]},a))})]}),t.question_type==="fill_blank"&&((p=t.options)==null?void 0:p.answers)&&t.options.answers.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:(s==null?void 0:s.accepted_answers)||"الإجابات المقبولة"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.options.answers.map((i,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-green-50 px-2 py-1 text-sm font-medium text-green-700",children:[e.jsx(f,{className:"h-3 w-3"}),i]},a))})]}),t.question_type==="ordering"&&((d=t.options)==null?void 0:d.items)&&t.options.items.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:(s==null?void 0:s.correct_order)||"الترتيب الصحيح"}),e.jsx("ol",{className:"list-inside list-decimal space-y-1 text-sm text-gray-700",children:t.options.items.map((i,a)=>e.jsx("li",{children:i},a))})]}),t.question_type==="short_answer"&&((j=t.options)==null?void 0:j.sample_answer)&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:(s==null?void 0:s.guidelines)||"الإرشادات"}),e.jsx("p",{className:"rounded-md bg-gray-50 p-2 text-sm text-gray-700",children:t.options.sample_answer})]}),t.question_type==="listening"&&e.jsxs("div",{className:"mt-3 space-y-2",children:[((g=t.options)==null?void 0:g.audio_url)&&e.jsxs("audio",{controls:!0,className:"h-11 w-full",children:[e.jsx("source",{src:t.options.audio_url,type:"audio/mpeg"}),(s==null?void 0:s.audio_not_supported)||"متصفحك لا يدعم عنصر الصوت"]}),((u=t.options)==null?void 0:u.instructions)&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:(s==null?void 0:s.instructions)||"التعليمات"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.options.instructions})]})]})]})},t.id)})})]})};export{pe as default};

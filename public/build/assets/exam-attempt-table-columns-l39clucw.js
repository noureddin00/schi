import{u as i,r as d,j as e,bT as m,e as o,L as x}from"./vendor-CVklK8n9.js";import{B as u}from"./badge-C1BPdyj4.js";import{B as r}from"./button-DQg8E2h7.js";import{D as p,a as h,b as j,c as g}from"./dropdown-menu-ipNwsWm-.js";import{g as N}from"./route-B4ZMN77y.js";import{c as f}from"./utils-fgVZ67ei.js";import"./index-BSu11NtU.js";const K=()=>{const c=i(),a=N(c.url),n=["all","in_progress","completed","abandoned","submitted"],[v,y]=d.useState(null);return[{accessorKey:"user",header:({column:s})=>e.jsx("div",{className:"flex items-center pl-4",children:e.jsx("span",{children:"Student"})}),cell:({row:s})=>e.jsxs("div",{className:"py-1 pl-4",children:[e.jsx("p",{className:"font-medium",children:s.original.user.name}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.original.user.email})]})},{accessorKey:"start_time",header:"Started At",cell:({row:s})=>e.jsxs("div",{className:"py-1",children:[e.jsx("p",{className:"text-sm",children:new Date(s.getValue("start_time")).toLocaleDateString()}),e.jsx("p",{className:"text-muted-foreground text-xs",children:new Date(s.getValue("start_time")).toLocaleTimeString()})]})},{accessorKey:"end_time",header:"Completed At",cell:({row:s})=>{const t=s.getValue("end_time");return t?e.jsxs("div",{className:"py-1",children:[e.jsx("p",{className:"text-sm",children:new Date(t).toLocaleDateString()}),e.jsx("p",{className:"text-muted-foreground text-xs",children:new Date(t).toLocaleTimeString()})]}):e.jsx("div",{className:"py-1 text-center",children:"--"})}},{accessorKey:"status",header:({column:s})=>e.jsx("div",{className:"flex justify-center",children:e.jsxs(p,{children:[e.jsx(h,{className:"flex items-center justify-center",children:e.jsxs(r,{variant:"ghost",className:"text-muted-foreground capitalize",children:[e.jsx("span",{children:a.status??"Status"}),e.jsx(m,{className:"h-3 w-3 text-gray-700"})]})}),e.jsx(j,{align:"center",className:"min-w-[120px]",children:n.map(t=>e.jsx(g,{onClick:()=>o.get(route("exams.edit",{...a,status:t})),className:f("cursor-pointer text-center capitalize",a.status===t&&"bg-gray-100"),children:t.replace("_"," ")},t))})]})}),cell:({row:s})=>{const t=s.getValue("status"),l=t==="completed"?"default":t==="in_progress"?"secondary":"destructive";return e.jsx("div",{className:"flex justify-center py-1",children:e.jsx(u,{variant:l,className:"capitalize",children:t.replace("_"," ")})})}},{accessorKey:"obtained_marks",header:()=>e.jsx("div",{className:"text-center",children:"Score"}),cell:({row:s})=>e.jsxs("div",{className:"py-1 text-center",children:[e.jsxs("p",{className:"font-semibold",children:[s.getValue("obtained_marks"),"/",s.original.total_marks]}),e.jsxs("p",{className:"text-muted-foreground text-xs",children:[s.original.percentage,"%"]})]})},{accessorKey:"correct_answers",header:()=>e.jsx("div",{className:"text-center",children:"Answers"}),cell:({row:s})=>e.jsx("div",{className:"py-1 text-center",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-green-600",children:s.getValue("correct_answers")})," /"," ",e.jsx("span",{className:"text-red-600",children:s.original.incorrect_answers})]})})},{id:"actions",header:()=>e.jsx("div",{className:"pr-4 text-end",children:"Actions"}),cell:({row:s})=>{const t=s.original;return t.status,t.status,e.jsx("div",{className:"flex justify-end gap-2 py-1 pr-4",children:e.jsx(r,{asChild:!0,variant:"default",className:"h-8",title:"Review & Grade Attempt",children:e.jsx(x,{href:route("exams.edit",{exam:t.exam_id,...a,review:t.id}),children:"Review"})})})}}]};export{K as default};

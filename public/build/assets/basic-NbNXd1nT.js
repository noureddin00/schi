import{u as V,b as T,r as B,j as e}from"./vendor-BBDGfIfP.js";import{C as m}from"./combobox-D7KHlSTK.js";import{I as o}from"./input-error-DzlB5Qkt.js";import{L as H}from"./loading-button-BLSSbYXc.js";import{C as M}from"./card-XBn4TxoT.js";import{I as k}from"./input-Dldj9DiJ.js";import{L as n}from"./label-DUVUvbLf.js";import{S as p,a as x,b as h,c as u,d as j}from"./select-CMFY0w3t.js";import{T as z}from"./textarea-ovCXlSTO.js";import{o as g}from"./inertia-SZXqLvQm.js";import{k as w}from"./richtor-QjVY_KZS.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./popover-CmHxiVMc.js";const ee=()=>{const{props:v}=V(),{auth:f,system:_,tab:S,categories:l,exam:s,instructors:c}=v,{data:a,setData:r,post:C,errors:i,processing:b}=T({tab:S,title:s.title||"",short_description:s.short_description||"",description:s.description||"",status:s.status||"draft",level:s.level||"",instructor_id:s.instructor_id||"",exam_category_id:s.exam_category_id||""}),y=t=>{t.preventDefault(),C(route("exams.update",{exam:s.id}))},E=B.useMemo(()=>l.map(t=>({label:t.title,value:t.id.toString()})),[l]),I=c==null?void 0:c.map(t=>({label:t.user.name,value:t.id.toString()})),N=["beginner","intermediate","advanced"],D=["draft","published","archived"],d=l.find(t=>t.id===a.exam_category_id);return e.jsx(M,{className:"container p-4 sm:p-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Exam Title *"}),e.jsx(k,{name:"title",value:a.title,onChange:t=>g(t,r),placeholder:"Enter exam title"}),e.jsx(o,{message:i.title})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Short Description"}),e.jsx(z,{rows:5,name:"short_description",value:a.short_description,onChange:t=>g(t,r),placeholder:"Brief description for exam cards"}),e.jsx(o,{message:i.short_description})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Description"}),e.jsx(w,{ssr:!0,output:"html",placeholder:{paragraph:"Enter detailed exam description...",imageCaption:"Enter detailed exam description..."},contentMinHeight:256,contentMaxHeight:640,initialContent:a.description,onContentChange:t=>r(L=>({...L,description:t}))}),e.jsx(o,{message:i.description})]}),f.user.role==="admin"&&_.sub_type==="collaborative"&&e.jsxs("div",{children:[e.jsx(n,{children:"Exam Instructor *"}),e.jsx(m,{defaultValue:a.instructor_id.toString(),data:I||[],placeholder:"Select instructor",onSelect:t=>r("instructor_id",t.value)}),e.jsx(o,{message:i.instructor_id})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Category *"}),e.jsx(m,{data:E,placeholder:"Select category",defaultValue:(d==null?void 0:d.title)||"",onSelect:t=>{r("exam_category_id",t.value)}}),e.jsx(o,{message:i.exam_category_id})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Difficulty Level *"}),e.jsxs(p,{value:a.level,onValueChange:t=>r("level",t),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select level"})}),e.jsx(u,{children:N.map(t=>e.jsx(j,{value:t,className:"capitalize",children:t},t))})]}),e.jsx(o,{message:i.level})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Status *"}),e.jsxs(p,{value:a.status,onValueChange:t=>r("status",t),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select status"})}),e.jsx(u,{children:D.map(t=>e.jsx(j,{value:t,className:"capitalize",children:t},t))})]}),e.jsx(o,{message:i.status})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(H,{loading:b,children:"Save Changes"})})]})})};export{ee as default};

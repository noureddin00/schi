import{u as g,j as t,q as c,cd as v,s as n,c7 as f,ce as y,cf as x}from"./vendor-CSmzIpnM.js";import{B as s}from"./badge-DV-TiKrP.js";import{B as r}from"./button-CPCtH35G.js";import _ from"./coupon-form-BwMyKcIx.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./input-error-DFZPMsrM.js";import"./loading-button-CjOdg6Ro.js";import"./dialog-BWowll2R.js";import"./input-CXffHHHp.js";import"./label-aM7LSFRq.js";import"./select-OeQ7gBvr.js";import"./switch-Df5HJ_tA.js";import"./inertia-SZXqLvQm.js";const k=({courses:a})=>{const o=g(),{translate:m}=o.props,{dashboard:e}=m||{},u=i=>i.is_active?i.valid_to&&y(n(i.valid_to))?{label:(e==null?void 0:e.expired)||"منتهي الصلاحية",variant:"destructive"}:i.valid_from&&x(n(i.valid_from))?{label:(e==null?void 0:e.scheduled)||"مجدول",variant:"secondary"}:i.usage_limit&&i.used_count>=i.usage_limit?{label:(e==null?void 0:e.used_up)||"مستخدمة بالكامل",variant:"destructive"}:{label:(e==null?void 0:e.active)||"نشط",variant:"default"}:{label:(e==null?void 0:e.inactive)||"غير مفعل",variant:"secondary"},p=i=>{navigator.clipboard.writeText(i),alert((e==null?void 0:e.coupon_copied)||"تم نسخ رمز القسيمة إلى الحافظة!")};return[{accessorKey:"code",header:()=>t.jsx("p",{className:"pl-4",children:(e==null?void 0:e.coupon_code)||"رمز القسيمة"}),cell:({row:i})=>t.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[t.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 font-bold",children:i.original.code}),t.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(i.original.code),children:t.jsx(v,{className:"h-3 w-3"})})]})},{accessorKey:"discount",header:(e==null?void 0:e.discount)||"الخصم",cell:({row:i})=>t.jsx(s,{variant:"outline",children:i.original.discount_type==="percentage"?`${i.original.discount}% ${(e==null?void 0:e.off)||"خصم"}`:`$${i.original.discount} ${(e==null?void 0:e.off)||"خصم"}`})},{accessorKey:"course",header:(e==null?void 0:e.course)||"الدورة",cell:({row:i})=>i.original.course?t.jsx("span",{className:"font-medium",children:i.original.course.title}):t.jsx("span",{className:"text-primary font-medium",children:(e==null?void 0:e.global_coupon)||"قسيمة عامة"})},{accessorKey:"usage",header:(e==null?void 0:e.usage)||"الاستخدام",cell:({row:i})=>i.original.usage_type==="limited"?t.jsxs("span",{children:[i.original.used_count," / ",i.original.usage_limit]}):t.jsx("span",{children:(e==null?void 0:e.unlimited)||"غير محدود"})},{accessorKey:"valid_from",header:(e==null?void 0:e.valid_from)||"صحيح من",cell:({row:i})=>i.original.valid_from?c(n(i.original.valid_from),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"valid_to",header:(e==null?void 0:e.valid_to)||"صحيح إلى",cell:({row:i})=>i.original.valid_to?c(n(i.original.valid_to),"MMM dd, yyyy HH:mm"):"-"},{accessorKey:"status",header:(e==null?void 0:e.status)||"الحالة",cell:({row:i})=>{const l=u(i.original);return t.jsx(s,{variant:l.variant,children:l.label})}},{id:"actions",header:()=>t.jsx("p",{className:"pr-4 text-end",children:(e==null?void 0:e.actions)||"الإجراءات"}),cell:({row:i})=>{const l=i.original;return t.jsx("div",{className:"flex items-center justify-end py-2 pr-4",children:t.jsx(_,{title:(e==null?void 0:e.edit_coupon)||"تعديل القسيمة",coupon:l,courses:a,handler:t.jsx(r,{size:"icon",variant:"secondary",className:"h-8 w-8",children:t.jsx(f,{})})})})}}]};export{k as default};

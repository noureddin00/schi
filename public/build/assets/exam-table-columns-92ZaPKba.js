import{u as p,j as e,c6 as o,L as j,bT as h,e as r,ba as v,c7 as N,T as y}from"./vendor-CVklK8n9.js";import{D as f}from"./delete-modal-BTq56Kp2.js";import{B as c}from"./badge-C1BPdyj4.js";import{B as l}from"./button-DQg8E2h7.js";import{D as _,a as k,b as C,c as D}from"./dropdown-menu-ipNwsWm-.js";import{g as K}from"./route-B4ZMN77y.js";import{c as V}from"./utils-fgVZ67ei.js";import"./dialog-DvjXkL6V.js";import"./index-BSu11NtU.js";const I=m=>{const n=p(),{translate:x}=n.props,{dashboard:t}=x||{},a=K(n.url),u=["all","draft","published","archived"];return[{accessorKey:"instructor",header:({column:s})=>e.jsx("div",{className:"flex items-center pl-4",children:e.jsxs(l,{variant:"ghost",className:"p-0 hover:bg-transparent",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[(t==null?void 0:t.instructor)||"المدرس",e.jsx(o,{})]})}),cell:({row:s})=>e.jsxs("div",{className:"pl-4",children:[e.jsx("p",{className:"mb-0.5 text-base font-medium",children:s.original.instructor.user.name}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.original.instructor.user.email})]})},{accessorKey:"title",header:(t==null?void 0:t.exam_title)||"عنوان الاختبار",cell:({row:s})=>e.jsxs("div",{className:"py-1",children:[e.jsx(j,{href:route("exams.details",{slug:s.original.slug,id:s.original.id}),className:"font-medium hover:underline",children:s.getValue("title")}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.original.exam_category.title})]})},{accessorKey:"status",header:({column:s})=>e.jsx("div",{className:"flex justify-center",children:e.jsxs(_,{children:[e.jsx(k,{className:"flex items-center justify-center",children:e.jsxs(l,{variant:"ghost",className:"text-muted-foreground capitalize",children:[e.jsx("span",{children:a.status??((t==null?void 0:t.status)||"الحالة")}),e.jsx(h,{className:"h-3 w-3 text-gray-700"})]})}),e.jsx(C,{align:"center",className:"min-w-[72px]",children:u.map(i=>e.jsx(D,{onClick:()=>r.get(route("exams.index",{...a,status:i})),className:V("cursor-pointer text-center capitalize",a.status===i&&"bg-gray-100"),children:i},i))})]})}),cell:({row:s})=>e.jsx("div",{className:"flex justify-center py-1",children:e.jsx(c,{variant:s.getValue("status")==="published"?"default":"secondary",className:"capitalize",children:s.getValue("status")})})},{accessorKey:"level",header:()=>e.jsx("div",{className:"text-center",children:(t==null?void 0:t.level)||"المستوى"}),cell:({row:s})=>e.jsx("div",{className:"py-1 text-center",children:s.getValue("level")?e.jsx(c,{variant:"outline",className:"capitalize",children:s.getValue("level")}):"--"})},{accessorKey:"total_questions",header:()=>e.jsx("div",{className:"text-center",children:(t==null?void 0:t.questions)||"الأسئلة"}),cell:({row:s})=>e.jsx("div",{className:"py-1 text-center",children:s.getValue("total_questions")})},{accessorKey:"total_marks",header:()=>e.jsx("div",{className:"text-center",children:(t==null?void 0:t.total_marks)||"المجموع الكلي"}),cell:({row:s})=>e.jsx("div",{className:"py-1 text-center",children:s.getValue("total_marks")})},{accessorKey:"enrollments_count",header:({column:s})=>e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(l,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[(t==null?void 0:t.enrollments)||"التسجيلات",e.jsx(o,{})]})}),cell:({row:s})=>e.jsx("div",{className:"py-1 text-center",children:s.getValue("enrollments_count")||0})},{accessorKey:"pricing_type",header:()=>e.jsx("div",{className:"text-center",children:(t==null?void 0:t.price)||"السعر"}),cell:({row:s})=>{const i=s.original.discount_price?Number(s.original.discount_price):null,d=s.original.price?Number(s.original.price):0,g=i||d;return e.jsx("div",{className:"py-1 text-center",children:s.original.pricing_type==="paid"?e.jsxs("span",{className:"font-semibold",children:["$",g.toFixed(2)]}):e.jsx(c,{variant:"outline",className:"bg-green-50 text-green-600",children:(t==null?void 0:t.free)||"مجاني"})})}},{id:"actions",header:()=>e.jsx("div",{className:"pr-4 text-end",children:(t==null?void 0:t.actions)||"الإجراءات"}),cell:({row:s})=>{const i=s.original;return e.jsxs("div",{className:"flex justify-end gap-2 py-1 pr-4",children:[e.jsx(l,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>r.get(route("exams.details",{slug:i.slug,id:i.id})),children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx(l,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>r.get(route("exams.edit",i.id)),children:e.jsx(N,{})}),m&&e.jsx(f,{routePath:route("exams.destroy",i.id),message:(t==null?void 0:t.delete_exam_confirm)||`هل أنت متأكد من حذف "${i.title}"؟ لا يمكن التراجع عن هذا الإجراء.`,actionComponent:e.jsx(l,{size:"icon",variant:"ghost",className:"bg-destructive/8 hover:bg-destructive/6 h-8 w-8 p-0",children:e.jsx(y,{className:"text-destructive text-sm"})})})]})}}]};export{I as default};

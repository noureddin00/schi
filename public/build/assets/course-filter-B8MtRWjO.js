import{u as I,r as L,j as e,e as M,ap as j,L as o}from"./vendor-BBDGfIfP.js";import{I as Q}from"./input-Dldj9DiJ.js";import{C as i}from"./checkbox-DFVJwr6m.js";import{C as b,a as N,b as y}from"./collapsible-qY9CFfL8.js";import{S as k}from"./separator-CHdmUWH0.js";import{g as R}from"./route-B4ZMN77y.js";import"./utils-fgVZ67ei.js";const H=({setOpen:c})=>{const v=I(),l=R(v.url),{levels:F,prices:w,categories:$,category:r,categoryChild:a,translate:S}=v.props,{frontend:p,common:x}=S,_={free:"مجاني",paid:"مدفوع"},C={beginner:"مبتدئ",intermediate:"متوسط",advanced:"متقدم"},[d,P]=L.useState({categories:!0,price:!0,level:!0}),u=s=>{P(t=>({...t,[s]:!t[s]}))},n=(s,t,m)=>{const h={...l};return"search"in h&&delete h.search,route("category.courses",{category:t,category_child:m,...h,...s})};return e.jsxs("div",{className:"course-filter-container space-y-1",children:[e.jsx("div",{className:"mb-4",children:e.jsx(Q,{type:"text",placeholder:p.search_courses||"ابحث في الفلاتر...",className:"h-10",onChange:s=>{const t=s.target.value;(t.length>2||t.length===0)&&M.get(route("category.courses",{category:"all",search:t}))}})}),e.jsxs(b,{open:d.categories,onOpenChange:()=>u("categories"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:x.categories}),e.jsx(j,{className:`h-4 w-4 transition-transform ${d.categories?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({},"all"),children:[e.jsx(i,{id:"category-all",checked:!r&&!a,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"category-all",className:"cursor-pointer text-sm flex-1",children:p.all})]}),$.map((s,t)=>{const m=`category${t}`;if(s.slug==="default")return null;const h=(r==null?void 0:r.slug)===s.slug&&!a;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({},s.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:m,checked:h,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:m,className:"cursor-pointer text-sm capitalize flex-1",children:s.title})]}),s.category_children&&s.category_children.length>0&&e.jsx("div",{className:"ml-6 space-y-2",children:s.category_children.map((f,z)=>{const g=`category_child${t}_${z}`,E=(a==null?void 0:a.slug)===f.slug;return e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({},s.slug,f.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:g,checked:E,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:g,className:"cursor-pointer text-sm capitalize flex-1",children:f.title})]},g)})})]},m)})]})]}),e.jsx(k,{}),e.jsxs(b,{open:d.price,onOpenChange:()=>u("price"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:x.price}),e.jsx(j,{className:`h-4 w-4 transition-transform ${d.price?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({price:"all"},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:"price-all",checked:!l.price||l.price==="all",className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"price-all",className:"cursor-pointer text-sm flex-1",children:p.all})]}),w.map(s=>e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({price:s},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:`price-${s}`,checked:l.price===s,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:`price-${s}`,className:"cursor-pointer text-sm flex-1",children:_[s]||s})]},s))]})]}),e.jsx(k,{}),e.jsxs(b,{open:d.level,onOpenChange:()=>u("level"),children:[e.jsxs(N,{className:"flex w-full items-center justify-between rounded-lg px-3 py-3 hover:bg-accent transition-colors",children:[e.jsx("h3",{className:"font-semibold text-sm",children:x.level}),e.jsx(j,{className:`h-4 w-4 transition-transform ${d.level?"rotate-180":""}`})]}),e.jsxs(y,{className:"mt-2 space-y-2 px-3 pb-2",children:[e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({level:"all"},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:"level-all",checked:!l.level||l.level==="all",className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:"level-all",className:"cursor-pointer text-sm flex-1",children:p.all})]}),F.map(s=>e.jsxs(o,{className:"flex items-center space-x-2 rounded py-1.5 hover:bg-accent/50 transition-colors",href:n({level:s},(r==null?void 0:r.slug)||"all",a==null?void 0:a.slug),onFinish:()=>!l.search&&c&&c(!1),children:[e.jsx(i,{id:`level-${s}`,checked:l.level===s,className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),e.jsx("label",{htmlFor:`level-${s}`,className:"cursor-pointer text-sm flex-1",children:C[s]||s})]},s))]})]})]})};export{H as default};

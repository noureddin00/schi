import{j as e,r as m,B as F,a3 as O,L as j,u as v,bL as T,aG as U,bM as H,bF as A,bN as P,bg as C,bO as k,bP as z,bQ as E,bR as G,A as $,aF as q,bS as V,aH as Q,e as J,bT as K,H as W}from"./vendor-BBDGfIfP.js";import{S as X,c as Y,u as I,d as b,e as Z,f as _,g as ee,h as y,i as ae,a as te,j as se,k as re,l as ne}from"./sidebar-BIOzr87F.js";import{M as ie}from"./main-BfH_Euhm.js";import{A as oe}from"./appearance-B5Loow3-.js";import{c as i}from"./utils-fgVZ67ei.js";import{L as ce}from"./language-plqgqSJb.js";import{N as le}from"./notification-DhXMcL3J.js";import{A as ue}from"./app-logo-opM5JP4B.js";import{a as de,b as me,c as pe,A as he}from"./accordion-DAQp0Avn.js";import{r as ge,a as s,b as xe}from"./route-B4ZMN77y.js";import{e as be,f as ve,c as fe,D as je,a as ye,b as Ne}from"./dropdown-menu-BvLJ_5Oe.js";import{A as we,a as Se,b as Ie}from"./avatar-lYJ9pRpJ.js";import{u as _e}from"./use-lang-B9LAL-fo.js";function Ae({variant:t="header",children:a,...r}){return e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col rounded-xl",...r,children:a})}function Ce({children:t,variant:a="header"}){const[r,n]=m.useState(()=>typeof window<"u"?localStorage.getItem("sidebar")!=="false":!0),c=d=>{n(d),typeof window<"u"&&localStorage.setItem("sidebar",String(d))};return a==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:t}):e.jsx(X,{defaultOpen:r,open:r,onOpenChange:c,children:t})}function ke({...t}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function Me({className:t,...a}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:i("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...a})}function Le({className:t,...a}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:i("inline-flex items-center gap-1.5",t),...a})}function De({asChild:t,className:a,...r}){const n=t?F:"a";return e.jsx(n,{"data-slot":"breadcrumb-link",className:i("hover:text-foreground transition-colors",a),...r})}function Be({className:t,...a}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:i("text-foreground font-normal",t),...a})}function Re({children:t,className:a,...r}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:i("[&>svg]:size-3.5",a),...r,children:t??e.jsx(O,{})})}function Fe({breadcrumbs:t}){return e.jsx(e.Fragment,{children:t.length>0&&e.jsx(ke,{children:e.jsx(Me,{children:t.map((a,r)=>{const n=r===t.length-1;return e.jsxs(m.Fragment,{children:[e.jsx(Le,{children:n?e.jsx(Be,{children:a.title}):e.jsx(De,{asChild:!0,children:e.jsx(j,{href:a.href,children:a.title})})}),!n&&e.jsx(Re,{},`separator-${r}`)]},`breadcrumbs-${r}`)})})})})}const Oe=({breadcrumbs:t=[]})=>{const{props:a}=v(),{system:r}=a;return e.jsx("header",{className:"border-sidebar-border/50 flex h-16 shrink-0 items-center gap-2 border-b px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"-ml-1"}),e.jsx(Fe,{breadcrumbs:t})]}),e.jsxs("div",{className:"header-actions flex items-center gap-2",children:[e.jsx("div",{className:"header-action header-action-theme",children:e.jsx(oe,{})}),e.jsx("div",{className:"header-action header-action-notification",children:e.jsx(le,{})}),r.fields.language_selector&&e.jsx("div",{className:"header-action header-action-language",children:e.jsx(ce,{})})]})]})})},Te=t=>{const a=v(),{auth:r,direction:n}=a.props,{state:c,toggleSidebar:d}=I(),{pageRoute:p}=t,{Icon:h,name:l,path:N,children:f,slug:o}=p,g=c==="collapsed",x=u=>ge(a.url)===u,w=u=>s(a.url)===u,L=(u,S)=>x(u)&&w(S);return f.length>0?e.jsxs(de,{value:o,className:"border-0",children:[e.jsx("div",{onClick:()=>g&&d(),className:i("hover:bg-muted h-9 overflow-hidden rounded-sm",x(o)&&"bg-secondary text-secondary-foreground hover:text-secondary-foreground hover:bg-secondary-light"),children:e.jsx(me,{className:i("h-9 cursor-pointer py-0 pr-2 font-normal hover:no-underline",g&&"[&>svg]:hidden",n==="rtl"&&"pr-0"),children:e.jsxs(b,{className:i("cursor-pointer hover:bg-transparent active:bg-transparent",x(o)&&"hover:text-secondary-foreground active:text-secondary-foreground"),children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:l})]})})}),e.jsx(pe,{className:i("space-y-1 p-0 py-2",g?"hidden":""),children:f.map(({path:u,name:S,slug:D,access:B},R)=>{if(B.includes(r.user.role))return e.jsx(b,{asChild:!0,isActive:L(p.slug,D),className:"h-9 px-3",children:e.jsxs(j,{href:u,prefetch:!0,children:[e.jsx(T,{className:"w-12"}),e.jsx("span",{className:"text-sm font-normal capitalize",children:S})]})},R)})})]}):e.jsx(b,{asChild:!0,isActive:w(o),className:i("h-9",w(o)?"data-[active=true]:bg-secondary data-[active=true]:text-secondary-foreground data-[active=true]:hover:bg-secondary-light":""),children:e.jsxs(j,{href:N,prefetch:!0,children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:l})]})})},Ue=t=>{const{sidebar:a}=t;return console.log("Sidebar translations:",a),[{title:a.main_menu,slug:"main-menu",pages:[{Icon:U,name:a.dashboard,path:route("dashboard"),slug:s(route("dashboard")),active:!0,access:["admin","instructor","collaborative","administrative"],children:[]},{Icon:H,name:a.courses,path:"",slug:"courses",active:!0,access:["admin","instructor","collaborative","administrative"],children:[{name:a.categories,path:route("categories.index"),slug:s(route("categories.index")),access:["admin","collaborative","administrative"]},{name:a.manage_courses,slug:s(route("courses.index")),path:route("courses.index"),access:["admin","instructor","collaborative","administrative"]},{name:a.create_course,slug:s(route("courses.create")),path:route("courses.create"),access:["admin","instructor","collaborative","administrative"]},{name:a.course_coupons,slug:s(route("course-coupons.index")),path:route("course-coupons.index"),access:["admin","instructor","collaborative","administrative"]}]},{Icon:A,name:a.exams,path:"",slug:"exams",active:!0,access:["admin","instructor","collaborative","administrative"],children:[{name:a.categories,slug:s(route("exam-categories.index")),path:route("exam-categories.index"),access:["admin","collaborative","administrative"]},{name:a.manage_exams,slug:s(route("exams.index")),path:route("exams.index"),access:["admin","instructor","collaborative","administrative"]},{name:a.create_exam,slug:s(route("exams.create")),path:route("exams.create"),access:["admin","instructor","collaborative","administrative"]},{name:a.exam_coupons,slug:s(route("exam-coupons.index")),path:route("exam-coupons.index"),access:["admin","instructor","collaborative","administrative"]}]},{Icon:P,name:a.enrollments,path:"",slug:"enrollments",active:!0,access:["admin","instructor","collaborative","administrative"],children:[{name:a.course_enrollments,slug:s(route("course-enrollments.index")),path:route("course-enrollments.index"),access:["admin","instructor","collaborative","administrative"]},{name:a.exam_enrollments,slug:s(route("exam-enrollments.index")),path:route("exam-enrollments.index"),access:["admin","instructor","collaborative","administrative"]}]},{Icon:C,name:a.instructors,path:"",slug:"instructors",active:!0,access:["admin","collaborative"],children:[{name:a.manage_instructors,slug:s(route("instructors.index")),path:route("instructors.index"),access:["admin","collaborative"]},{name:a.create_instructor,slug:s(route("instructors.create")),path:route("instructors.create"),access:["admin","collaborative"]},{name:a.applications,slug:s(route("instructors.applications")),path:route("instructors.applications",{status:"pending"}),access:["admin","collaborative"]}]},{Icon:k,name:a.payouts,path:"",slug:"payouts",active:!0,access:["instructor","collaborative"],children:[{name:a.withdraw,slug:s(route("payouts.index")),path:route("payouts.index"),access:["instructor","collaborative"]},{name:a.settings,slug:s(route("payouts.settings.index")),path:route("payouts.settings.index"),access:["instructor","collaborative"]}]},{Icon:k,name:a.payout_report,path:"",slug:"payouts",active:!0,access:["admin","collaborative"],children:[{name:a.payout_request,slug:s(route("payouts.request.index")),path:route("payouts.request.index"),access:["admin","collaborative"]},{name:a.payout_history,slug:s(route("payouts.history.index")),path:route("payouts.history.index"),access:["admin","collaborative"]}]},{Icon:z,name:a.payment_report,path:"",slug:"payment-reports",active:!0,access:["admin","collaborative","administrative"],children:[{name:a.online_payments,slug:s(route("payment-reports.online.index")),path:route("payment-reports.online.index"),access:["admin","collaborative","administrative"]},{name:a.offline_payments,slug:s(route("payment-reports.offline.index")),path:route("payment-reports.offline.index"),access:["admin","collaborative","administrative"]}]},{Icon:E,name:a.job_circulars,path:"",slug:"job-circulars",active:!0,access:["admin","collaborative","administrative"],children:[{name:a.all_jobs,slug:s(route("job-circulars.index")),path:route("job-circulars.index"),access:["admin","collaborative","administrative"]},{name:a.create_job,slug:s(route("job-circulars.create")),path:route("job-circulars.create"),access:["admin","collaborative","administrative"]}]},{Icon:A,name:a.blogs,path:"",slug:"blogs",active:!0,access:["admin","instructor","collaborative","administrative"],children:[{name:a.categories,slug:s(route("blogs.categories.index")),path:route("blogs.categories.index"),access:["admin","instructor","collaborative","administrative"]},{name:a.create_blog,slug:s(route("blogs.create")),path:route("blogs.create"),access:["admin","instructor","collaborative","administrative"]},{name:a.manage_blog,slug:s(route("blogs.index")),path:route("blogs.index"),access:["admin","instructor","collaborative","administrative"]}]},{Icon:G,name:a.newsletters,path:route("newsletters.index"),slug:s(route("newsletters.index")),active:!0,access:["admin","collaborative","administrative"],children:[]},{Icon:C,name:a.all_users,path:route("users.index"),slug:s(route("users.index")),active:!0,access:["admin","collaborative","administrative"],children:[]},{Icon:$,name:a.certificates,path:"",slug:"certification",active:!0,access:["admin","collaborative","administrative"],children:[{name:a.certificate,slug:s(route("certificate.templates.index")),path:route("certificate.templates.index"),access:["admin","collaborative","administrative"]},{name:a.marksheet,slug:s(route("marksheet.templates.index")),path:route("marksheet.templates.index"),access:["admin","collaborative","administrative"]}]},{Icon:q,name:a.settings,path:"",slug:"settings",active:!0,access:["admin","instructor","collaborative","administrative"],children:[{name:a.account,slug:s(route("settings.account")),path:route("settings.account"),access:["admin","instructor","collaborative","administrative"]},{name:a.system,slug:s(route("settings.system")),path:route("settings.system"),access:["admin","collaborative","administrative"]},{name:a.pages,slug:s(route("settings.pages")),path:route("settings.pages"),access:["admin","collaborative","administrative"]},{name:a.storage,slug:s(route("settings.storage")),path:route("settings.storage"),access:["admin","collaborative","administrative"]},{name:a.payment,slug:s(route("settings.payment")),path:route("settings.payment"),access:["admin","collaborative","administrative"]},{name:a.smtp,slug:s(route("settings.smtp")),path:route("settings.smtp"),access:["admin","collaborative","administrative"]},{name:a.auth,slug:s(route("settings.auth0")),path:route("settings.auth0"),access:["admin","collaborative","administrative"]},{name:a.live_class,slug:s(route("settings.live-class")),path:route("settings.live-class"),access:["admin","collaborative","administrative"]},{name:a.translation,slug:s(route("language.index")),path:route("language.index"),access:["admin","collaborative","administrative"]}]}]}]};function He(){const t=v(),{auth:a,system:r,translate:n}=t.props,{sidebar:c}=n,d=Ue(n),[p,h]=m.useState("");return m.useEffect(()=>{const l=xe(t.url);l.length>1&&h(l[1])},[t.url]),e.jsx(Z,{className:"px-2 py-0",children:e.jsx(he,{type:"single",collapsible:!0,value:p,defaultValue:p,onValueChange:h,children:d.map(({title:l,pages:N},f)=>e.jsxs(_,{className:"space-y-1",children:[e.jsx(ee,{children:l}),N.map(o=>{const g=o.access.includes(a.user.role||"admin"),x=o.access.includes(r.sub_type||"collaborative");if(g&&x)return e.jsx(y,{children:e.jsx(Te,{pageRoute:o})},o.slug)}),e.jsx(y,{children:e.jsx(b,{asChild:!0,className:i("h-9"),children:e.jsxs("a",{target:"_blank",href:route("system.maintenance"),children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:c.maintenance})]})})})]},f))})})}function Pe(){return m.useCallback(a=>{const r=a.trim().split(" ");if(r.length===0)return"";if(r.length===1)return r[0].charAt(0).toUpperCase();const n=r[0].charAt(0),c=r[r.length-1].charAt(0);return`${n}${c}`.toUpperCase()},[])}function M({user:t,showEmail:a=!1}){const r=Pe();return e.jsxs(e.Fragment,{children:[e.jsxs(we,{className:"h-8 w-8 overflow-hidden rounded-full",children:[e.jsx(Se,{src:t.photo||"",alt:t.name,className:"object-cover"}),e.jsx(Ie,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:r(t.name)})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:t.name}),a&&e.jsx("span",{className:"text-muted-foreground truncate text-xs",children:t.email})]})]})}function ze(){return m.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function Ee({user:t}){const a=ze(),{button:r}=_e(),n=()=>{J.post(route("logout"),{},{onSuccess:()=>{a()}})};return e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"p-0 font-normal",children:e.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:e.jsx(M,{user:t,showEmail:!0})})}),e.jsx(ve,{}),e.jsxs(fe,{className:"flex w-full cursor-pointer items-center gap-2",onClick:n,children:[e.jsx(Q,{className:"mr-2"}),r.log_out]})]})}function Ge(){const{auth:t}=v().props,{state:a}=I(),r=ae();return e.jsx(_,{children:e.jsx(y,{children:e.jsxs(je,{children:[e.jsx(ye,{className:"w-full",children:e.jsxs(b,{size:"lg",className:"text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent group cursor-pointer",children:[e.jsx(M,{user:t.user}),e.jsx(K,{className:"ml-auto size-4"})]})}),e.jsx(Ne,{align:"end",className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:r?"bottom":a==="collapsed"?"left":"bottom",children:e.jsx(Ee,{user:t.user})})]})})})}const $e=()=>{const{state:t}=I(),{props:a}=v(),r=t==="collapsed";return e.jsxs(te,{collapsible:"icon",variant:"inset",side:a.direction==="rtl"?"right":"left",className:"shadow-md",children:[!r&&e.jsx(se,{children:e.jsx(_,{children:e.jsx(y,{className:"pt-1 pb-5",children:e.jsx(j,{href:"/",prefetch:!0,children:e.jsx(ue,{className:"h-[26px]"})})})})}),e.jsx(re,{children:e.jsx(He,{})}),e.jsx(ne,{children:e.jsx(Ge,{})})]})},ra=t=>{const{children:a,headTitle:r,breadcrumbs:n=[]}=t;return e.jsx(ie,{children:e.jsxs(Ce,{variant:"sidebar",children:[e.jsx($e,{}),e.jsxs(Ae,{variant:"sidebar",children:[r&&e.jsx(W,{title:r}),e.jsx(Oe,{breadcrumbs:n}),e.jsx("div",{className:"container py-6",children:a})]})]})})};export{ra as D};

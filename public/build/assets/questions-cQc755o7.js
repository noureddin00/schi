import{u as _,j as e,cz as C,bH as g,e as N,c6 as k,cd as D,x as Q,T as A,n as f,a8 as P,cA as S}from"./vendor-BBDGfIfP.js";import{D as z}from"./data-sort-modal-DX4PE93F.js";import{Q as B}from"./question-type-badge-hEf0DxP0.js";import{D as M}from"./delete-modal-xghuXLfm.js";import{B as r}from"./button-BxbUMaK9.js";import{C as c,b as y}from"./card-XBn4TxoT.js";import{e as T}from"./richtor-QjVY_KZS.js";import o from"./question-dialog-B-ri1kV5.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./scroll-area-Dmjd_gyP.js";import"./badge-CuP0AKCr.js";import"./index-BSu11NtU.js";import"./input-error-DzlB5Qkt.js";import"./loading-button-BLSSbYXc.js";import"./input-Dldj9DiJ.js";import"./label-DUVUvbLf.js";import"./select-CMFY0w3t.js";import"./inertia-SZXqLvQm.js";import"./fill-blank-form-DtgybQ1l.js";import"./listening-form-Tocc3Nud.js";import"./chunked-uploader-input-BS9NXBbE.js";import"./index-G4n3qM_p.js";import"./radio-group-CBkhOvCv.js";import"./textarea-ovCXlSTO.js";import"./matching-form-CnX0ecbh.js";import"./multiple-choice-form-Cg3e5fUR.js";import"./checkbox-DFVJwr6m.js";import"./ordering-form-Bz9HqlF6.js";import"./short-answer-form-n1aRFOSs.js";const xe=()=>{const{props:w}=_(),{exam:i,translate:v}=w,{dashboard:a}=v,{questions:m}=i,b=s=>{N.post(route("exam-questions.duplicate",{question:s}),{},{preserveScroll:!0})};return m.length===0?e.jsx(c,{children:e.jsxs(y,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"mb-4 rounded-full bg-gray-100 p-6",children:e.jsx(C,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:a.no_questions_yet}),e.jsx("p",{className:"mb-6 max-w-md text-center text-gray-600",children:a.start_building_exam}),e.jsx(o,{exam:i,handler:e.jsxs(r,{children:[e.jsx(g,{className:"h-4 w-4"}),a.add_first_question]})})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.exam_questions}),e.jsxs("p",{className:"text-sm text-gray-600",children:[m.length," â€¢ ",a.total,": ",i.total_marks]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{title:"Questions",data:m,handler:e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),a.reorder]}),onOrderChange:(s,n)=>{N.post(route("exam-questions.reorder"),{sortedData:s},{preserveScroll:!0,onSuccess:()=>n&&n(!1)})},renderContent:s=>e.jsx(c,{className:"flex w-full items-center justify-between px-4 py-3",children:e.jsx("p",{children:s.title})})}),e.jsx(o,{exam:i,handler:e.jsxs(r,{children:[e.jsx(g,{className:"h-4 w-4"}),a.add_question]})})]})]}),e.jsx("div",{className:"space-y-3",children:m.map((s,n)=>{var d,x,p,h,j,u;return e.jsx(c,{className:"transition-shadow hover:shadow-md",children:e.jsxs(y,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Q",n+1]}),e.jsx(B,{type:s.question_type}),e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[s.marks," ",a.marks]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:"icon",variant:"ghost",className:"bg-muted hover:bg-muted-foreground/10 h-8 w-8 rounded-full p-0",onClick:()=>b(s.id),children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx(o,{exam:i,question:s,handler:e.jsx(r,{size:"icon",variant:"ghost",className:"bg-muted hover:bg-muted-foreground/10 h-8 w-8 rounded-full p-0",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsx(M,{message:"Are you sure you want to delete this question?",routePath:route("exam-questions.destroy",s.id),actionComponent:e.jsx(r,{size:"icon",variant:"ghost",className:"bg-destructive/8 hover:bg-destructive/6 h-8 w-8 rounded-full p-0",children:e.jsx(A,{className:"text-destructive text-sm"})})})]})]}),e.jsx("h4",{className:"mb-1 font-medium text-gray-900",children:s.title}),e.jsx(T,{value:s.description||""}),(s.question_type==="multiple_choice"||s.question_type==="multiple_select")&&s.question_options&&s.question_options.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-x-6 gap-y-3",children:s.question_options.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.is_correct?e.jsx(f,{strokeWidth:3,className:"h-4 w-4 text-green-500"}):e.jsx(P,{strokeWidth:3,className:"h-4 w-4 text-gray-300"}),e.jsx("span",{className:t.is_correct?"font-medium text-green-700":"text-gray-600",children:t.option_text})]},t.id))}),s.question_type==="matching"&&((d=s.options)==null?void 0:d.matches)&&s.options.matches.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Matching Pairs:"}),e.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:s.options.matches.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-gray-50 p-2 text-sm",children:[e.jsx("span",{className:"text-gray-700",children:t.question}),e.jsx(S,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium text-green-600",children:t.answer})]},l))})]}),s.question_type==="fill_blank"&&((x=s.options)==null?void 0:x.answers)&&s.options.answers.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:"Accepted Answers:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.options.answers.map((t,l)=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-green-50 px-2 py-1 text-sm font-medium text-green-700",children:[e.jsx(f,{className:"h-3 w-3"}),t]},l))})]}),s.question_type==="ordering"&&((p=s.options)==null?void 0:p.items)&&s.options.items.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:"Correct Order:"}),e.jsx("ol",{className:"list-inside list-decimal space-y-1 text-sm text-gray-700",children:s.options.items.map((t,l)=>e.jsx("li",{children:t},l))})]}),s.question_type==="short_answer"&&((h=s.options)==null?void 0:h.sample_answer)&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:"Guidelines:"}),e.jsx("p",{className:"rounded-md bg-gray-50 p-2 text-sm text-gray-700",children:s.options.sample_answer})]}),s.question_type==="listening"&&e.jsxs("div",{className:"mt-3 space-y-2",children:[((j=s.options)==null?void 0:j.audio_url)&&e.jsxs("audio",{controls:!0,className:"h-11 w-full",children:[e.jsx("source",{src:s.options.audio_url,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),((u=s.options)==null?void 0:u.instructions)&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500",children:"Instructions:"}),e.jsx("p",{className:"text-sm text-gray-700",children:s.options.instructions})]})]})]})},s.id)})})]})};export{xe as default};

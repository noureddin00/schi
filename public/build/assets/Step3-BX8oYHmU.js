import{b as N,j as e,L as y,e as B}from"./vendor-CSmzIpnM.js";import{I as o}from"./input-error-DFZPMsrM.js";import{B as m}from"./button-CPCtH35G.js";import{I as d}from"./input-CXffHHHp.js";import{L as t}from"./label-aM7LSFRq.js";import{S as C,a as w,b as T,c as I,d as E}from"./select-OeQ7gBvr.js";import{c as O}from"./utils-fgVZ67ei.js";import A from"./Layout-DTAnRv9m.js";import L from"./Message-zAszqCvT.js";import P from"./StepNavigator-CFIpIl4P.js";import"./index-BSu11NtU.js";const R=l=>{const{DB_HOST:h,DB_PORT:x,DB_DATABASE:u,DB_USERNAME:j,DB_PASSWORD:_,DB_CONNECTION:g,DB_CONNECTION_STATUS:v,flash:c}=l,{data:s,errors:r,post:S,setData:p}=N({db_connection:g||"mysql",db_host:h||"",db_port:x||"",db_database:u||"",db_username:j||"",db_password:_||""}),i=!!parseInt(v),n=a=>{const b=a.target;p({...s,[b.name]:b.value})},f=async a=>{a.preventDefault(),B.post(route("check-database"),s)},D=a=>{a.preventDefault(),S(route("install.store-step3"))};return e.jsxs("div",{children:[e.jsx(P,{step1:"fill",step2:"fill",step3:"active"}),e.jsxs("form",{id:"dataForm",onSubmit:D,children:[e.jsx(L,{error:c.error,success:c.success}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"Select Database Type"}),e.jsxs(C,{name:"db_connection",value:s.db_connection,onValueChange:a=>p("db_connection",a),children:[e.jsx(w,{children:e.jsx(T,{placeholder:"Select Database Type"})}),e.jsx(I,{children:e.jsx(E,{value:"mysql",children:"MySQL"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"DB Host"}),e.jsx(d,{id:"db_host",type:"text",name:"db_host",value:s.db_host,onChange:n,placeholder:"127.0.0.1"}),e.jsx(o,{message:r.db_host})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"DB Port"}),e.jsx(d,{id:"db_port",type:"text",name:"db_port",value:s.db_port,onChange:n,placeholder:"3306"}),e.jsx(o,{message:r.db_port})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"DB Database"}),e.jsx(d,{id:"db_database",type:"text",name:"db_database",value:s.db_database,onChange:n,placeholder:"Database Name"}),e.jsx(o,{message:r.db_database})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"DB Username"}),e.jsx(d,{id:"db_username",type:"text",name:"db_username",value:s.db_username,onChange:n,placeholder:"Username"}),e.jsx(o,{message:r.db_username})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(t,{children:"DB Password"}),e.jsx(d,{id:"db_password",type:"password",name:"db_password",value:s.db_password,onChange:n,placeholder:"Password"}),e.jsx(o,{message:r.db_password})]}),e.jsx(m,{type:"button",className:O("w-full",i&&"bg-green-500",c.error&&"bg-red-500"),onClick:f,disabled:i,children:"Test Connection"}),e.jsxs("div",{className:"mt-12 flex items-center justify-end gap-4",children:[e.jsx(y,{href:route("install.show-step2"),children:e.jsx(m,{type:"button",variant:"outline",className:"border border-orange-500 !bg-transparent !text-orange-500 uppercase",children:"Previous Step"})}),i&&e.jsx(m,{type:"submit",className:"bg-orange-500 px-6 py-3 text-white uppercase hover:bg-orange-600/90",children:"Next Step"})]})]})]})};R.layout=l=>e.jsx(A,{children:l});export{R as default};

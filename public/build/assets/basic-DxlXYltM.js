import{u as k,b as z,r as B,j as t}from"./vendor-BBDGfIfP.js";import{C as x}from"./combobox-D7KHlSTK.js";import{I as c}from"./input-error-DzlB5Qkt.js";import{L as D}from"./loading-button-BLSSbYXc.js";import{C as w}from"./card-XBn4TxoT.js";import{I as F}from"./input-Dldj9DiJ.js";import{L as a}from"./label-DUVUvbLf.js";import{S as u,a as d,b as j,c as g,d as _}from"./select-CMFY0w3t.js";import{T as P}from"./textarea-ovCXlSTO.js";import{o as v}from"./inertia-SZXqLvQm.js";import{k as R}from"./richtor-QjVY_KZS.js";import"./button-BxbUMaK9.js";import"./index-BSu11NtU.js";import"./utils-fgVZ67ei.js";import"./dialog-Ao4xhLhR.js";import"./popover-CmHxiVMc.js";const se=()=>{const{props:h}=k(),{auth:f,system:C,tab:S,categories:o,exam:i,instructors:m,translate:y}=h,{dashboard:e}=y||{},{data:r,setData:l,post:I,errors:n,processing:N}=z({tab:S,title:i.title||"",short_description:i.short_description||"",description:i.description||"",status:i.status||"draft",level:i.level||"",instructor_id:i.instructor_id||"",exam_category_id:i.exam_category_id||""}),V=s=>{s.preventDefault(),I(route("exams.update",{exam:i.id}))},L=B.useMemo(()=>o.map(s=>({label:s.title,value:s.id.toString()})),[o]),E=m==null?void 0:m.filter(s=>s.user!==null).map(s=>({label:s.user.name,value:s.id.toString()})),H=["beginner","intermediate","advanced"],M=["draft","published","archived"],p=o.find(s=>s.id===r.exam_category_id);return t.jsx(w,{className:"container p-4 sm:p-6",children:t.jsxs("form",{onSubmit:V,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(a,{children:[(e==null?void 0:e.exam_title)||"عنوان الاختبار"," *"]}),t.jsx(F,{name:"title",value:r.title,onChange:s=>v(s,l),placeholder:(e==null?void 0:e.enter_exam_title)||"أدخل عنوان الاختبار"}),t.jsx(c,{message:n.title})]}),t.jsxs("div",{children:[t.jsx(a,{children:(e==null?void 0:e.short_description)||"الوصف القصير"}),t.jsx(P,{rows:5,name:"short_description",value:r.short_description,onChange:s=>v(s,l),placeholder:(e==null?void 0:e.brief_description)||"وصف موجز لبطاقات الاختبار"}),t.jsx(c,{message:n.short_description})]}),t.jsxs("div",{children:[t.jsx(a,{children:(e==null?void 0:e.description)||"الوصف"}),t.jsx(R,{ssr:!0,output:"html",placeholder:{paragraph:(e==null?void 0:e.enter_detailed_description)||"أدخل وصفًا مفصلاً للاختبار...",imageCaption:(e==null?void 0:e.enter_detailed_description)||"أدخل وصفًا مفصلاً..."},contentMinHeight:256,contentMaxHeight:640,initialContent:r.description,onContentChange:s=>l(T=>({...T,description:s}))}),t.jsx(c,{message:n.description})]}),f.user.role==="admin"&&C.sub_type==="collaborative"&&t.jsxs("div",{children:[t.jsxs(a,{children:[(e==null?void 0:e.exam_instructor)||"مدرب الاختبار"," *"]}),t.jsx(x,{defaultValue:r.instructor_id.toString(),data:E||[],placeholder:(e==null?void 0:e.select_instructor)||"اختر المدرب",onSelect:s=>l("instructor_id",s.value)}),t.jsx(c,{message:n.instructor_id})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs(a,{children:[(e==null?void 0:e.category)||"الفئة"," *"]}),t.jsx(x,{data:L,placeholder:(e==null?void 0:e.select_category)||"اختر الفئة",defaultValue:(p==null?void 0:p.title)||"",onSelect:s=>{l("exam_category_id",s.value)}}),t.jsx(c,{message:n.exam_category_id})]}),t.jsxs("div",{children:[t.jsxs(a,{children:[(e==null?void 0:e.difficulty_level)||"مستوى الصعوبة"," *"]}),t.jsxs(u,{value:r.level,onValueChange:s=>l("level",s),children:[t.jsx(d,{children:t.jsx(j,{placeholder:(e==null?void 0:e.select_level)||"اختر المستوى"})}),t.jsx(g,{children:H.map(s=>t.jsx(_,{value:s,className:"capitalize",children:s},s))})]}),t.jsx(c,{message:n.level})]}),t.jsxs("div",{children:[t.jsxs(a,{children:[(e==null?void 0:e.status)||"الحالة"," *"]}),t.jsxs(u,{value:r.status,onValueChange:s=>l("status",s),children:[t.jsx(d,{children:t.jsx(j,{placeholder:(e==null?void 0:e.select_status)||"اختر الحالة"})}),t.jsx(g,{children:M.map(s=>t.jsx(_,{value:s,className:"capitalize",children:s},s))})]}),t.jsx(c,{message:n.status})]})]}),t.jsx("div",{className:"mt-8",children:t.jsx(D,{loading:N,children:"Save Changes"})})]})})};export{se as default};
